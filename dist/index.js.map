{"version":3,"sources":["../src/index.ts","../src/context/workspace/provider.tsx","../src/context/workspace/reducer/global.ts","../src/context/workspace/reducer/utils.ts","../src/context/workspace/reducer/project.ts","../node_modules/uuid/dist/esm-node/rng.js","../node_modules/uuid/dist/esm-node/regex.js","../node_modules/uuid/dist/esm-node/validate.js","../node_modules/uuid/dist/esm-node/stringify.js","../node_modules/uuid/dist/esm-node/v4.js","../src/lib/colors.ts","../node_modules/clsx/dist/clsx.mjs","../src/components/workspace-io/export.button.tsx","../src/components/ui/button.tsx","../src/lib/utils.ts","../src/lib/download.ts","../src/components/workspace-io/export.project.tsx","../src/components/elements/text.tsx","../src/components/workspace-io/export.workspace.tsx","../src/components/automation/localStorage.sync.tsx","../src/components/ui/use-toast.ts","../src/components/automation/timer.tsx","../src/context/countdown/provider.tsx","../src/components/ui/badge.tsx","../src/components/ui/roll.tsx","../src/components/elements/utils/countdown.tsx","../src/components/appbar/toolbar.tsx","../src/components/ui/progress.tsx","../src/components/ui/avatar.tsx","../src/components/ui/dialog.tsx","../src/components/appbar/index.tsx","../src/components/elements/utils/createProject.tsx","../src/components/workspace-io/import.project.tsx","../src/components/ui/dashed-container.tsx","../src/lib/upload.tsx","../src/components/workspace-io/import.workspace.tsx","../src/components/elements/task.tsx","../src/components/elements/utils/add.tsx","../src/components/ui/paper.tsx","../src/components/elements/group.tsx","../src/components/elements/utils/dragAndDrop.tsx","../src/components/elements/utils/actions.tsx","../src/components/ui/scroll-area.tsx","../src/components/elements/feed.tsx","../src/components/elements/board.tsx","../src/components/ui/resizable.tsx","../src/components/elements/project.tsx","../src/components/elements/avatar.tsx","../src/components/elements/index.tsx","../src/components/elements/utils/config.tsx","../src/components/flowboard.workspace.tsx","../src/components/ui/toast.tsx","../src/components/ui/toaster.tsx","../src/components/index.tsx"],"sourcesContent":["export * from \"./components\"","\"use client\"\r\n\r\nimport React from \"react\"\r\nimport { IElement } from \"./interface\"\r\nimport { globalReducer } from \"./reducer/global\"\r\nimport { GlobalReducerActions, GlobalState, ProjectActions, ProjectState } from \"./reducer/interface\"\r\nimport { projectReducer } from \"./reducer/project\"\r\nimport { v4 } from \"uuid\"\r\nimport { generateGradient } from \"@/lib/colors\"\r\n\r\ntype ContextProps = {\r\n  globalState: GlobalState\r\n  globalDispatch: React.Dispatch<GlobalReducerActions>\r\n  projectState: ProjectState\r\n  projectDispatch: React.Dispatch<ProjectActions>\r\n  deselectProject: () => void\r\n  selectProject: (element: IElement) => void\r\n  deleteElement: (element: IElement) => void\r\n  updateElement: (element: IElement, newElement: Partial<IElement>) => void\r\n  addElement: (element: IElement) => void\r\n  sync: () => void\r\n  completeElementCycle: () => void\r\n  setConfigMode: (value: boolean) => void\r\n}\r\n\r\nlet initialState: GlobalState = {\r\n  workspaceName: \"new workspace\",\r\n  configMode: false,\r\n  updatedAt: new Date(),\r\n  workspace: {\r\n    position: 0,\r\n    parent: \"root\",\r\n    summary: {\r\n      parents: [\"root\"],\r\n      child: []\r\n    },\r\n    type: \"workspace\",\r\n    id: v4(),\r\n    content: [],\r\n    style: {\r\n      background: generateGradient()\r\n    },\r\n    updatedAt: new Date(),\r\n    project: \"root\"\r\n  }\r\n}\r\n\r\nconst initialProjectState: ProjectState = {\r\n  configMode: false,\r\n\r\n}\r\n\r\nconst WorkspaceContext = React.createContext<ContextProps>({\r\n  globalDispatch: () => { },\r\n  globalState: initialState,\r\n  projectDispatch: () => { },\r\n  projectState: initialProjectState,\r\n  deselectProject: () => { },\r\n  selectProject: () => { },\r\n  deleteElement: () => { },\r\n  updateElement: () => { },\r\n  addElement: () => { },\r\n  sync: () => { },\r\n  completeElementCycle: () => { },\r\n  setConfigMode: () => { }\r\n})\r\n\r\nexport const WorkspaceProvider = ({ children }: { children: React.ReactNode }) => {\r\n  const [globalState, globalDispatch] = React.useReducer(globalReducer, initialState)\r\n  const [projectState, projectDispatch] = React.useReducer(projectReducer, initialProjectState)\r\n\r\n  function deselectProject() {\r\n    if (projectState.project) {\r\n      sync()\r\n    }\r\n    projectDispatch({\r\n      type: \"LOAD_DATA\",\r\n      payload: {\r\n        element: undefined\r\n      }\r\n    })\r\n  }\r\n\r\n  function setConfigMode(value: boolean) {\r\n    if (projectState.project) {\r\n      projectDispatch({\r\n        type: \"SET_CONFIG_MODE\",\r\n        payload: { value }\r\n      })\r\n    } else {\r\n      globalDispatch({\r\n        type: \"SET_CONFIG_MODE\",\r\n        payload: { value }\r\n      })\r\n    }\r\n\r\n  }\r\n\r\n  function completeElementCycle() {\r\n    projectDispatch({\r\n      type: \"MIGRATE_ELEMENT\",\r\n      payload: {\r\n        element: {\r\n          ...projectState.startedElement!,\r\n          metadata: {\r\n            ...projectState.startedElement?.metadata!,\r\n            status: \"FINISHED\"\r\n          }\r\n        },\r\n        to: projectState.startedElement?.metadata?.whenFinish?.migrateTo!\r\n      }\r\n    })\r\n    if (projectState.project) {\r\n      globalDispatch({\r\n        type: \"MIGRATE_ELEMENT\",\r\n        payload: {\r\n          element: {\r\n            ...projectState.startedElement!,\r\n            metadata: {\r\n              ...projectState.startedElement?.metadata!,\r\n              status: \"FINISHED\"\r\n            }\r\n          },\r\n          to: projectState.startedElement?.metadata?.whenFinish?.migrateTo!\r\n        }\r\n      })\r\n    }\r\n    projectDispatch({\r\n      type: \"REMOVE_STARTED_ELEMENT\"\r\n    })\r\n  }\r\n\r\n  function selectProject(element: IElement) {\r\n    if (projectState.project) {\r\n      sync()\r\n    }\r\n\r\n    globalDispatch({\r\n      type: \"LOAD_PROJECT\",\r\n      payload: {\r\n        project: element\r\n      }\r\n    })\r\n\r\n    projectDispatch({\r\n      type: \"LOAD_DATA\",\r\n      payload: {\r\n        element\r\n      }\r\n    })\r\n  }\r\n\r\n\r\n  function deleteElement(element: IElement) {\r\n    projectDispatch({\r\n      type: \"DELETE_ELEMENT\",\r\n      payload: {\r\n        elementId: element.id,\r\n        parentId: element.parent\r\n      }\r\n    })\r\n\r\n    globalDispatch({\r\n      type: \"DELETE_ELEMENT\",\r\n      payload: {\r\n        elementId: element.id,\r\n        parentId: element.parent\r\n      }\r\n    })\r\n  }\r\n\r\n\r\n  function updateElement(element: IElement, newElement: Partial<IElement>) {\r\n    projectDispatch({\r\n      type: \"UPDATE_ELEMENT\",\r\n      payload: {\r\n        oldElement: element,\r\n        newElement: newElement as IElement,\r\n      }\r\n    })\r\n\r\n    globalDispatch({\r\n      type: \"UPDATE_ELEMENT\",\r\n      payload: {\r\n        oldElement: element,\r\n        newElement: newElement as IElement,\r\n      }\r\n    })\r\n  }\r\n\r\n  function addElement(element: IElement) {\r\n    projectDispatch({\r\n      type: \"ADD_ELEMENT\",\r\n      payload: {\r\n        parentId: element.parent,\r\n        element: element,\r\n      }\r\n    })\r\n\r\n    globalDispatch({\r\n      type: \"ADD_ELEMENT\",\r\n      payload: {\r\n        parentId: element.parent,\r\n        element: element,\r\n      }\r\n    })\r\n  }\r\n\r\n  function sync() {\r\n    if (projectState.project) {\r\n      globalDispatch({\r\n        type: \"LOAD_PROJECT\",\r\n        payload: {\r\n          project: projectState.project\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <WorkspaceContext.Provider value={{\r\n      globalState,\r\n      globalDispatch,\r\n      projectState,\r\n      projectDispatch,\r\n      selectProject,\r\n      deselectProject,\r\n      deleteElement,\r\n      updateElement,\r\n      addElement,\r\n      sync,\r\n      completeElementCycle,\r\n      setConfigMode\r\n    }}>\r\n      {children}\r\n    </WorkspaceContext.Provider>\r\n  )\r\n}\r\n\r\n\r\nexport const useWorkspace = () => {\r\n  const context = React.useContext(WorkspaceContext)\r\n  if (!context) throw new Error(\"you must define Board context before use Board hooks\")\r\n  return context\r\n}","import { IElement, addElement, changeElementStatus, deleteElement, migrateElement, updateElement } from \"..\"\r\nimport { GlobalReducerActions, GlobalState } from \"./interface\"\r\n\r\nexport const globalReducer = (state: GlobalState, action: GlobalReducerActions): GlobalState => {\r\n  switch (action.type) {\r\n    case \"LOAD_PROJECT\":\r\n      if (action.payload.project && action.payload.project.type === \"project\") {\r\n        const alreadyExist = state.workspace.content.some(el => el.id === action.payload.project?.id)\r\n        if (alreadyExist) return {\r\n          ...state,\r\n          updatedAt: new Date(),\r\n          workspace: {\r\n            ...state.workspace,\r\n            content: state.workspace.content.map(pro => pro.id === action.payload.project.id ? action.payload.project : pro),\r\n            updatedAt: new Date(),\r\n          }\r\n        }\r\n        return {\r\n          ...state,\r\n          workspace: {\r\n            ...state.workspace,\r\n            content: [...state.workspace.content, action.payload.project as IElement],\r\n            updatedAt: new Date()\r\n          },\r\n          updatedAt: new Date()\r\n        }\r\n      }\r\n      return state\r\n    case \"LOAD_WORKSPACE\":\r\n      return {\r\n        ...state,\r\n        ...action.payload.data,\r\n        updatedAt: new Date()\r\n      }\r\n    case \"RENAME_WORKSPACE\":\r\n      return {\r\n        ...state,\r\n        workspaceName: action.payload.value,\r\n        updatedAt: new Date(),\r\n        workspace: {\r\n          ...state.workspace,\r\n          title: action.payload.value\r\n        }\r\n      }\r\n    case \"SET_CONFIG_MODE\":\r\n      return {\r\n        ...state,\r\n        configMode: action.payload.value\r\n      }\r\n    case \"ADD_ELEMENT\":\r\n      return {\r\n        ...state,\r\n        workspace: addElement([state.workspace], action)[0]\r\n      }\r\n    case \"UPDATE_ELEMENT\":\r\n      return {\r\n        ...state,\r\n        workspace: updateElement([state.workspace], action)[0]\r\n      }\r\n    case \"DELETE_ELEMENT\":\r\n      return {\r\n        ...state,\r\n        workspace: deleteElement([state.workspace], action)[0]\r\n      }\r\n    case \"MIGRATE_ELEMENT\":\r\n      return {\r\n        ...state,\r\n        workspace: migrateElement([state.workspace], action)[0]\r\n      }\r\n    case \"CHANGE_STATUS\":\r\n      return {\r\n        ...state,\r\n        workspace: changeElementStatus([state.workspace], action)[0]\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n}","import { deepMerge } from \"@pytsx/system\";\r\nimport { IElement, } from \"../interface\";\r\nimport { GlobalReducerActions } from \"./interface\";\r\n\r\nexport function recursiveUpdate(elements: IElement[], id: string | null, callback: (element: IElement) => IElement): IElement[] {\r\n  if (id === null) return elements.map(el => {\r\n    callback(el)\r\n    return {\r\n      ...el,\r\n      content: recursiveUpdate(el.content, id, callback)\r\n    }\r\n  })\r\n  return elements.map(el => {\r\n    if (el.id === id) {\r\n      return {\r\n        ...deepMerge(el, callback(el))\r\n      }\r\n    } else {\r\n      return {\r\n        ...el,\r\n        content: recursiveUpdate(el.content, id, callback)\r\n      }\r\n    }\r\n  })\r\n}\r\n\r\ninterface ElementStats {\r\n  element: IElement\r\n  childNumber: number\r\n  ETA: number\r\n}\r\n\r\n\r\nexport function getStats(_element: IElement): ElementStats {\r\n  let stats: ElementStats = {\r\n    element: _element,\r\n    childNumber: _element.content.length,\r\n    ETA: _element.metadata?.ETA || 0\r\n  }\r\n  _element.content.map(item => {\r\n    if (item.content.length > 0) {\r\n      return {\r\n        childNumber: item.content.length,\r\n        ETA: item.metadata?.ETA\r\n      }\r\n    }\r\n    stats.childNumber += getStats(item).childNumber\r\n    stats.ETA += getStats(item).ETA\r\n  })\r\n\r\n  return stats\r\n}\r\n\r\nexport function addElement(elements: IElement[], action: GlobalReducerActions): IElement[] {\r\n  if (action.type !== \"ADD_ELEMENT\") throw new Error(\"wrong action type pass to AddElement\")\r\n  // if (!action.payload.parentId) {\r\n  //   return [...elements, action.payload.element]\r\n  // }\r\n  return recursiveUpdate(elements, action.payload.parentId, (element) => {\r\n    const isDuplicate = element.content.some(\r\n      (element) =>\r\n        element.id === action.payload.element.id\r\n    );\r\n    if (isDuplicate) return element\r\n\r\n    const newElement = {\r\n      ...action.payload.element,\r\n      parent: element.id,\r\n      summary: {\r\n        ...action.payload.element.summary,\r\n        parents: [...(element?.summary.parents || []), element.id]\r\n      }\r\n    }\r\n\r\n    const newParent = {\r\n      ...element,\r\n      content: [...element.content, newElement],\r\n      metadata: {\r\n        ...element.metadata,\r\n        ETA: (element.metadata?.ETA || 0) + (action.payload.element.metadata?.ETA || 0)\r\n      }\r\n    }\r\n    return newParent\r\n  })\r\n\r\n}\r\n\r\nexport function updateElement(elements: IElement[], action: GlobalReducerActions): IElement[] {\r\n  if (action.type !== \"UPDATE_ELEMENT\") throw new Error(\"wrong action type pass to updateElement\")\r\n\r\n  if (action.payload.oldElement.parent === \"root\") {\r\n    return recursiveUpdate(elements, action.payload.oldElement.id, (element) => {\r\n      return {\r\n        ...deepMerge<IElement, IElement>(element, action.payload.newElement),\r\n        updatedAt: new Date()\r\n      }\r\n    })\r\n  }\r\n\r\n  return recursiveUpdate(elements, action.payload.oldElement.parent, (element) => {\r\n    return {\r\n      ...element,\r\n      content: element.content.map(item => {\r\n        if (item.id === action.payload.oldElement.id) {\r\n          return {\r\n            ...item,\r\n            ...action.payload.newElement,\r\n            updatedAt: new Date()\r\n          }\r\n        }\r\n        return item\r\n      })\r\n    }\r\n  })\r\n}\r\n\r\nexport function changeElementStatus(elements: IElement[], action: GlobalReducerActions): IElement[] {\r\n  if (action.type !== \"CHANGE_STATUS\") throw new Error(\"wrong action type pass to StartElement\")\r\n  return recursiveUpdate(elements, action.payload.element.id, (element) => {\r\n    return {\r\n      ...element,\r\n      metadata: {\r\n        ...element.metadata,\r\n        status: action.payload.status,\r\n        timer: {\r\n          [action.payload.status]: new Date()\r\n        }\r\n      }\r\n    }\r\n  })\r\n}\r\n\r\n\r\nexport function migrateElement(elements: IElement[], action: GlobalReducerActions): IElement[] {\r\n  if (action.type !== \"MIGRATE_ELEMENT\") throw new Error(\"wrong action type pass to StartElement\")\r\n  const newElements = deleteElement(elements, {\r\n    type: \"DELETE_ELEMENT\",\r\n    payload: {\r\n      elementId: action.payload.element.id,\r\n      parentId: action.payload.element.parent\r\n    }\r\n  })\r\n\r\n  return addElement(\r\n    newElements,\r\n    {\r\n      type: \"ADD_ELEMENT\",\r\n      payload: {\r\n        element: {\r\n          ...action.payload.element,\r\n          metadata: {\r\n            ...action.payload.element.metadata,\r\n            whenFinish: undefined\r\n          }\r\n        },\r\n        parentId: action.payload.to\r\n      }\r\n    })\r\n}\r\n\r\nexport function deleteElement(elements: IElement[], action: GlobalReducerActions): IElement[] {\r\n  if (action.type !== \"DELETE_ELEMENT\") throw new Error(\"wrong action type pass to deleteElement\")\r\n  if (action.payload.parentId === \"root\") {\r\n    return elements.filter(item => {\r\n      if (item.id === action.payload.elementId) {\r\n        return false\r\n      } else if (item.content && Array.isArray(item.content)) {\r\n        item.content = deleteElement(item.content, action)\r\n      }\r\n      return true\r\n    })\r\n  }\r\n\r\n  return elements?.map(element => {\r\n    if (element.id === action.payload.parentId) {\r\n\r\n      return {\r\n        ...element,\r\n        content: element.content.filter(item => {\r\n          if (item.id === action.payload.elementId) {\r\n            return false\r\n          } else if (item.content && Array.isArray(item.content)) {\r\n            item.content = deleteElement(item.content, action)\r\n          }\r\n          return true\r\n        }),\r\n        updatedAt: new Date()\r\n      }\r\n    } else {\r\n      element.content = deleteElement(element.content, action)\r\n    }\r\n    return element\r\n  })\r\n}\r\n\r\nexport function deepSearch(elements: IElement[], elementId: string): IElement | undefined {\r\n  return elements.find(element => {\r\n    if (element.id === elementId) return element\r\n    return deepSearch(element.content, elementId)\r\n  })\r\n}\r\n\r\n","import { ProjectActions, ProjectState } from \"./interface\";\r\nimport { addElement, changeElementStatus, deleteElement, migrateElement, updateElement } from \"./utils\";\r\n\r\nexport function projectReducer(\r\n  state: ProjectState,\r\n  action: ProjectActions\r\n): ProjectState {\r\n  switch (action.type) {\r\n    case \"LOAD_DATA\":\r\n      if (!action.payload.element) {\r\n        return {\r\n          openedElement: undefined,\r\n          project: undefined,\r\n          refElement: undefined,\r\n          selectedElement: undefined,\r\n          startedElement: undefined,\r\n          configMode: false\r\n        }\r\n      }\r\n      return {\r\n        ...state,\r\n        project: action.payload.element\r\n      };\r\n    case \"ADD_ELEMENT\":\r\n      if (!state.project) return state\r\n      return {\r\n        ...state,\r\n        project: addElement([state.project], action)[0],\r\n        ...(action.payload.parentId === state.openedElement?.id && { openedElement: { ...state.openedElement, content: addElement(state.openedElement.content, action) } }),\r\n        ...(action.payload.parentId === state.refElement?.id && { refElement: { ...state.refElement, content: addElement([state.refElement], action) } }),\r\n        ...(action.payload.parentId === state.selectedElement?.id && { selectedElement: { ...state.selectedElement, content: addElement([state.selectedElement], action) } }),\r\n        ...(action.payload.parentId === state.startedElement?.id && { startedElement: { ...state.startedElement, content: addElement([state.startedElement], action) } }),\r\n        ...(action.payload.parentId === state.configElement?.id && { configElement: { ...state.configElement, content: addElement([state.configElement], action) } }),\r\n      }\r\n    case \"UPDATE_ELEMENT\":\r\n      if (!state.project) return state\r\n      return {\r\n        ...state,\r\n        project: updateElement([state.project], action)[0],\r\n        ...(action.payload.oldElement.id === state.openedElement?.id && { openedElement: { ...state.openedElement, ...action.payload.newElement } }),\r\n        ...(action.payload.oldElement.id === state.refElement?.id && { refElement: { ...state.refElement, ...action.payload.newElement } }),\r\n        ...(action.payload.oldElement.id === state.selectedElement?.id && { selectedElement: { ...state.selectedElement, ...action.payload.newElement } }),\r\n        ...(action.payload.oldElement.id === state.startedElement?.id && { startedElement: { ...state.startedElement, ...action.payload.newElement } }),\r\n        ...(action.payload.oldElement.id === state.configElement?.id && { configElement: { ...state.configElement, ...action.payload.newElement } }),\r\n      }\r\n    case \"DELETE_ELEMENT\":\r\n      if (!state.project) return state\r\n      return {\r\n        ...state,\r\n        project: deleteElement([state.project], action)[0],\r\n        ...(action.payload.elementId === state.openedElement?.id && { openedElement: undefined }),\r\n        ...(action.payload.elementId === state.refElement?.id && { refElement: undefined }),\r\n        ...(action.payload.elementId === state.selectedElement?.id && { selectedElement: undefined }),\r\n        ...(action.payload.elementId === state.startedElement?.id && { startedElement: undefined }),\r\n        ...(action.payload.elementId === state.configElement?.id && { configElement: undefined }),\r\n      }\r\n    case \"MIGRATE_ELEMENT\":\r\n      if (!state.project) return state\r\n      if (state.startedElement) {\r\n      }\r\n      return {\r\n        ...state,\r\n        project: migrateElement([state.project], action)[0],\r\n        ...(action.payload.element.id === state.openedElement?.id && { openedElement: { ...state.openedElement, ...action.payload.element, parent: action.payload.to } }),\r\n        ...(action.payload.element.id === state.refElement?.id && { refElement: { ...state.refElement, ...action.payload.element, parent: action.payload.to } }),\r\n        ...(action.payload.element.id === state.selectedElement?.id && { selectedElement: { ...state.selectedElement, ...action.payload.element, parent: action.payload.to } }),\r\n        ...(action.payload.element.id === state.startedElement?.id && { startedElement: { ...state.startedElement, ...action.payload.element, parent: action.payload.to } }),\r\n        ...(action.payload.element.id === state.configElement?.id && { configElement: { ...state.configElement, ...action.payload.element, parent: action.payload.to } }),\r\n      }\r\n    case \"CHANGE_STATUS\":\r\n      if (!state.project) return state\r\n      return {\r\n        ...state,\r\n        project: changeElementStatus([state.project], action)[0]\r\n      }\r\n    case \"START_ELEMENT\":\r\n      if (!state.project) return state\r\n      return {\r\n        ...state,\r\n        project: changeElementStatus(\r\n          [state.project],\r\n          {\r\n            type: \"CHANGE_STATUS\",\r\n            payload: {\r\n              ...action.payload,\r\n              status: \"ACTIVE\"\r\n            }\r\n          })[0],\r\n        startedElement: action.payload.element\r\n      }\r\n    case \"OPEN_ELEMENT\":\r\n      return {\r\n        ...state,\r\n        openedElement: action.payload.element\r\n      }\r\n    case \"SELECT_ELEMENT\":\r\n      return {\r\n        ...state,\r\n        selectedElement: action.payload.element,\r\n      }\r\n    case \"SET_REF_ELEMENT\":\r\n      return {\r\n        ...state,\r\n        refElement: action.payload.element\r\n      }\r\n    case \"SET_CONFIG_MODE\":\r\n      return {\r\n        ...state,\r\n        configMode: action.payload.value\r\n      }\r\n    case \"REMOVE_REF_ELEMENT\":\r\n      return {\r\n        ...state,\r\n        refElement: undefined\r\n      }\r\n    case \"REMOVE_OPEN_ELEMENT\":\r\n      return {\r\n        ...state,\r\n        openedElement: undefined\r\n      }\r\n    case \"DESELECT_ELEMENT\":\r\n      return {\r\n        ...state,\r\n        selectedElement: undefined,\r\n      }\r\n    case \"REMOVE_STARTED_ELEMENT\":\r\n      return {\r\n        ...state,\r\n        startedElement: undefined\r\n      }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import crypto from 'crypto';\nconst rnds8Pool = new Uint8Array(256); // # of random values to pre-allocate\n\nlet poolPtr = rnds8Pool.length;\nexport default function rng() {\n  if (poolPtr > rnds8Pool.length - 16) {\n    crypto.randomFillSync(rnds8Pool);\n    poolPtr = 0;\n  }\n\n  return rnds8Pool.slice(poolPtr, poolPtr += 16);\n}","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nconst byteToHex = [];\n\nfor (let i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction stringify(arr, offset = 0) {\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  const uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import rng from './rng.js';\nimport stringify from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  options = options || {};\n  const rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (let i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return stringify(rnds);\n}\n\nexport default v4;","type RGBA = [number, number, number, number]\r\n\r\nfunction randomNumber(min: number = 0, max: number = 255) {\r\n  if (min > max) throw new Error('Invalid range: min must be less than or equal to max');\r\n  const range = max - min\r\n  return Math.floor(min + (Math.random() * range))\r\n}\r\n\r\nexport function generateRGB(): RGBA {\r\n  const r = randomNumber(10, 50)\r\n  const g = randomNumber(90, 180)\r\n  const b = randomNumber(180, 205)\r\n  const a = randomNumber(60, 90) / 100\r\n  return [r, g, b, a]\r\n}\r\n\r\nfunction getMiddleColor(color1: RGBA, color2: RGBA): RGBA {\r\n  const [r1, g1, b1, a1] = color1\r\n  const [r2, g2, b2, a2] = color2\r\n\r\n  const color3: RGBA = [Math.floor((r1 * r2) / 2), Math.floor((g1 * g2) / 2), Math.floor((b1 * b2) / 2), Math.floor((a1 * a2) / 2)]\r\n\r\n  return color3\r\n}\r\n\r\nexport function generateGradient() {\r\n  const color1 = generateRGB()\r\n  const color3 = generateRGB()\r\n  const color2 = getMiddleColor(color1, color3)\r\n  const degree = randomNumber(0, 180)\r\n  return `linear-gradient(${degree}deg, rgba(${color1.join(\",\")}) 0%, rgba(${color3.join(\",\")}) 50%, rgba(${color2.join(\",\")}) 100%)`\r\n}\r\n\r\n\r\nfunction getComplementaryColor(rgbaColor: RGBA): RGBA {\r\n  // Convert RGB to HSL\r\n  const [r, g, b, a = 1] = rgbaColor;\r\n  const max = Math.max(r, g, b);\r\n  const min = Math.min(r, g, b);\r\n  const ch = (max - min) / 2;\r\n  let h = Math.atan2(g - b, r - g) / (2 * Math.PI) * 360;\r\n  if (h < 0) {\r\n    h += 360;\r\n  }\r\n\r\n  // Adjust hue for complementary color\r\n  h = (h + 180) % 360;\r\n\r\n  // Convert HSL back to RGB\r\n  const s = (ch === 0) ? 0 : (max - min) / ch;\r\n  const l = (max + min) / 2;\r\n  const hslToRGB = (h: number, s: number, l: number): number[] => {\r\n    const c = (1 - Math.abs(2 * l - 1)) * s;\r\n    const x = c * (1 - Math.abs((h / 60) % 2 - 1));\r\n    const m = l - c / 2;\r\n    const r1 = m + x;\r\n    const g1 = m + (x * (1 - 2 / 3));\r\n    const b1 = m - x;\r\n    return [r1 * 255, g1 * 255, b1 * 255];\r\n  };\r\n  const [newR, newG, newB] = hslToRGB(h, s, l);\r\n\r\n  // Retain alpha value\r\n  const newAlpha = a;\r\n\r\n  return [newR, newG, newB, newAlpha]\r\n}","function r(e){var t,f,n=\"\";if(\"string\"==typeof e||\"number\"==typeof e)n+=e;else if(\"object\"==typeof e)if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(f=r(e[t]))&&(n&&(n+=\" \"),n+=f)}else for(f in e)e[f]&&(n&&(n+=\" \"),n+=f);return n}export function clsx(){for(var e,t,f=0,n=\"\",o=arguments.length;f<o;f++)(e=arguments[f])&&(t=r(e))&&(n&&(n+=\" \"),n+=t);return n}export default clsx;","\"use client\"\r\nimport clsx from \"clsx\";\r\nimport React from \"react\";\r\nimport { buttonVariants } from \"../ui/button\";\r\nimport { Download } from \"lucide-react\";\r\ninterface Props extends React.DetailedHTMLProps<React.HTMLAttributes<HTMLButtonElement>, HTMLButtonElement> { }\r\nconst ExportButton = React.forwardRef<HTMLButtonElement, Props>(({ ...props }, ref) => {\r\n  return (\r\n    <button\r\n      ref={ref}\r\n      className={clsx(buttonVariants({ variant: \"outline\", className: \"!px-2\" }),\r\n        \"select-none rounded-sm leading-none bg-transparent  text-neutral-950 !capitalize text-sm  \",\r\n        \"transition-all \",\r\n        \"active:shadow-none active:opacity-60\",\r\n        \"h-fit md:h-8\"\r\n      )}\r\n      {...props}\r\n    >\r\n      <Download className=\"w-4 h-4\" />\r\n    </button>\r\n  )\r\n})\r\n\r\nExportButton.displayName = \"ExportButton\"\r\nexport default ExportButton","import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center whitespace-nowrap rounded-sm text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\n        outline:\n          \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\n        secondary:\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-10 px-4 py-2\",\n        sm: \"h-9 rounded-sm px-3\",\n        lg: \"h-11 rounded-sm px-8\",\n        icon: \"h-10 w-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n  VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n","import { type ClassValue, clsx } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n\n\nexport function getMinutes(seconds: number) {\n  return Math.floor(seconds / 60)\n}\n\nexport function getSeconds(seconds: number) {\n  return seconds % 60\n}\n\n\nexport function convertToSeconds(minutes: number, seconds: number) {\n  if (minutes < 0) minutes = 0\n  if (seconds < 0) seconds = 0\n  return (((minutes || 0) * 60) + seconds || 0)\n}","export function download(data: any, title: string) {\r\n  if (!data) return null\r\n\r\n  const jsonData = JSON.stringify(data)\r\n  const blob = new Blob([jsonData], { type: \"application/json\" })\r\n  const downloadURL = URL.createObjectURL(blob)\r\n\r\n  const downloadLink = document.createElement(\"a\")\r\n  downloadLink.href = downloadURL;\r\n  downloadLink.download = `${title}.json`;\r\n  downloadLink.click();\r\n\r\n  // Limpar a URL de download apÃ³s o download\r\n  URL.revokeObjectURL(downloadURL);\r\n}\r\n","import { useWorkspace } from \"@/context\";\r\nimport ExportButton from \"./export.button\";\r\nimport { download } from \"../../lib/download\";\r\n\r\nfunction ExportBoard() {\r\n  const { projectState, globalState } = useWorkspace()\r\n  function exportProject() {\r\n    if (!projectState.project) return null\r\n    download(projectState.project, `[${globalState.workspaceName}] ${projectState.project.title}`)\r\n  }\r\n  return (\r\n    <ExportButton\r\n      onClick={exportProject}\r\n    />\r\n  )\r\n}\r\n\r\nExportBoard.displayName = \"ExportBoard\"\r\nexport default ExportBoard","\"use client\"\r\nimport { useWorkspace } from \"@/context\";\r\nimport clsx from \"clsx\";\r\nimport { ElementProps } from \".\";\r\nimport React from \"react\";\r\n\r\nexport function TextElement({ element, dense, className }: ElementProps) {\r\n  const { projectDispatch } = useWorkspace()\r\n\r\n  function updateElement(value: string) {\r\n    projectDispatch({\r\n      type: \"UPDATE_ELEMENT\",\r\n      payload: {\r\n        oldElement: element,\r\n        newElement: {\r\n          ...element,\r\n          title: value,\r\n        }\r\n      }\r\n    })\r\n  }\r\n\r\n  return element.title && (\r\n    <RawEditableText callback={updateElement} className={className || \"\"} text={element.title} dense={dense} />\r\n  )\r\n}\r\n\r\n\r\nexport function RawEditableText({ callback, text, dense, className }: { text: string, callback: (e: string) => void, dense?: boolean, className?: string }) {\r\n\r\n  function onBlur(e: React.FocusEvent<HTMLParagraphElement, Element>) {\r\n    const value = e.target.innerText === \"\" ? text : e.target.innerText\r\n    callback(value || \"\")\r\n  }\r\n\r\n  return (\r\n    <p\r\n      contentEditable={!dense}\r\n      dangerouslySetInnerHTML={{ __html: text }}\r\n      suppressContentEditableWarning={true}\r\n      onBlur={onBlur}\r\n      className={clsx(\"text-sm line-clamp-2 px-1 py-1\", [dense && \"line-clamp-4 text-xs\"], className)}\r\n      autoFocus\r\n    />\r\n  )\r\n}","\"use client\"\r\nimport { useWorkspace } from \"@/context\";\r\nimport ExportButton from \"./export.button\";\r\nimport { download } from \"../../lib/download\";\r\n\r\nfunction ExportWorkspace() {\r\n  const { globalState } = useWorkspace()\r\n\r\n  function exportWorkspace() {\r\n    if (!globalState) return null\r\n    download(globalState, globalState.workspaceName)\r\n  }\r\n\r\n  return (\r\n    <ExportButton onClick={exportWorkspace} />\r\n\r\n  )\r\n}\r\n\r\nExportWorkspace.displayName = \"ExportWorkspace\"\r\nexport default ExportWorkspace","\"use client\"\r\n\r\nimport { useWorkspace } from \"@/context\"\r\nimport clsx from \"clsx\"\r\nimport { RefreshCcw } from \"lucide-react\"\r\nimport React, { Suspense } from \"react\"\r\nimport { useToast } from \"../ui/use-toast\"\r\n\r\nfunction LocalStorageSync() {\r\n  const { globalState, globalDispatch, projectState } = useWorkspace()\r\n  const [date, setDate] = React.useState<Date>(new Date())\r\n  const [autoSave, setAutoSave] = React.useState<boolean>(true)\r\n  const [sync, setSync] = React.useState<boolean>(false)\r\n  const { toast } = useToast()\r\n\r\n  React.useEffect(() => {\r\n    getLocally()\r\n  }, [])\r\n\r\n  React.useEffect(() => {\r\n    if (autoSave) {\r\n      setDate(new Date())\r\n      if (globalState.workspace.content.length > 0) syncLocally()\r\n    }\r\n  }, [globalState.workspace.content, globalState.workspaceName, autoSave])\r\n\r\n\r\n  function saveLocally(title: string = \"flowboard\", data?: any) {\r\n    window.localStorage.setItem(title, JSON.stringify(data || globalState))\r\n  }\r\n\r\n  function getLocally() {\r\n    const data = window.localStorage.getItem(\"flowboard\")\r\n    if (data) {\r\n      const state = JSON.parse(data)\r\n      globalDispatch({\r\n        type: \"LOAD_WORKSPACE\",\r\n        payload: {\r\n          data: state\r\n        }\r\n      })\r\n\r\n    }\r\n  }\r\n\r\n  function syncLocally() {\r\n    setSync(true)\r\n    saveLocally()\r\n    if (!projectState.project) {\r\n      toast({\r\n        title: \"Data synced locally\"\r\n      })\r\n    }\r\n\r\n    if (!autoSave) {\r\n      getLocally()\r\n    }\r\n    setTimeout(() => setSync(false), 500)\r\n  }\r\n\r\n  function clearLocalstorage() {\r\n    window.localStorage.clear()\r\n  }\r\n\r\n  function onClick() {\r\n    setAutoSave(prev => {\r\n      const newState = !prev\r\n      if (newState) {\r\n        syncLocally()\r\n      } else {\r\n        clearLocalstorage()\r\n      }\r\n      toast({\r\n        title: `auto save ${newState ? \"enabled\" : \"disabled\"}`,\r\n        duration: 2000,\r\n        variant: newState ? \"default\" : \"destructive\"\r\n      })\r\n      return newState\r\n    })\r\n  }\r\n\r\n  return (\r\n    <div\r\n      contentEditable={false}\r\n      className=\"select-none flex items-center gap-1 cursor-pointer\"\r\n      onClick={onClick}>\r\n      <p className=\"text-xs font-semibold opacity-50 hidden md:inline\">\r\n        sync at:\r\n      </p>\r\n      <Suspense>\r\n        <span\r\n          dangerouslySetInnerHTML={\r\n            { __html: (date || new Date()).toLocaleString() }\r\n          }\r\n          className=\"text-[10px] md:text-xs uppercase\"\r\n        ></span>\r\n      </Suspense>\r\n      <RefreshCcw\r\n        className={\r\n          clsx(\r\n            \"w-3 h-3 opacity-60\",\r\n            sync && \"animate-spin\",\r\n            autoSave && \"!opacity-100 text-blue-800/60\",\r\n            !autoSave && \"!text-red-800/40\"\r\n          )\r\n        }\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nLocalStorageSync.displayName = \"LocalStorageSync\"\r\n\r\nexport default LocalStorageSync","\"use client\"\n\n// Inspired by react-hot-toast library\nimport * as React from \"react\"\n\nimport type {\n  ToastActionElement,\n  ToastProps,\n} from \"@/components/ui/toast\"\n\nconst TOAST_LIMIT = 1\nconst TOAST_REMOVE_DELAY = 1000000\n\ntype ToasterToast = ToastProps & {\n  id: string\n  title?: React.ReactNode\n  description?: React.ReactNode\n  action?: ToastActionElement\n}\n\nconst actionTypes = {\n  ADD_TOAST: \"ADD_TOAST\",\n  UPDATE_TOAST: \"UPDATE_TOAST\",\n  DISMISS_TOAST: \"DISMISS_TOAST\",\n  REMOVE_TOAST: \"REMOVE_TOAST\",\n} as const\n\nlet count = 0\n\nfunction genId() {\n  count = (count + 1) % Number.MAX_SAFE_INTEGER\n  return count.toString()\n}\n\ntype ActionType = typeof actionTypes\n\ntype Action =\n  | {\n      type: ActionType[\"ADD_TOAST\"]\n      toast: ToasterToast\n    }\n  | {\n      type: ActionType[\"UPDATE_TOAST\"]\n      toast: Partial<ToasterToast>\n    }\n  | {\n      type: ActionType[\"DISMISS_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n  | {\n      type: ActionType[\"REMOVE_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n\ninterface State {\n  toasts: ToasterToast[]\n}\n\nconst toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>()\n\nconst addToRemoveQueue = (toastId: string) => {\n  if (toastTimeouts.has(toastId)) {\n    return\n  }\n\n  const timeout = setTimeout(() => {\n    toastTimeouts.delete(toastId)\n    dispatch({\n      type: \"REMOVE_TOAST\",\n      toastId: toastId,\n    })\n  }, TOAST_REMOVE_DELAY)\n\n  toastTimeouts.set(toastId, timeout)\n}\n\nexport const reducer = (state: State, action: Action): State => {\n  switch (action.type) {\n    case \"ADD_TOAST\":\n      return {\n        ...state,\n        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),\n      }\n\n    case \"UPDATE_TOAST\":\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === action.toast.id ? { ...t, ...action.toast } : t\n        ),\n      }\n\n    case \"DISMISS_TOAST\": {\n      const { toastId } = action\n\n      // ! Side effects ! - This could be extracted into a dismissToast() action,\n      // but I'll keep it here for simplicity\n      if (toastId) {\n        addToRemoveQueue(toastId)\n      } else {\n        state.toasts.forEach((toast) => {\n          addToRemoveQueue(toast.id)\n        })\n      }\n\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === toastId || toastId === undefined\n            ? {\n                ...t,\n                open: false,\n              }\n            : t\n        ),\n      }\n    }\n    case \"REMOVE_TOAST\":\n      if (action.toastId === undefined) {\n        return {\n          ...state,\n          toasts: [],\n        }\n      }\n      return {\n        ...state,\n        toasts: state.toasts.filter((t) => t.id !== action.toastId),\n      }\n  }\n}\n\nconst listeners: Array<(state: State) => void> = []\n\nlet memoryState: State = { toasts: [] }\n\nfunction dispatch(action: Action) {\n  memoryState = reducer(memoryState, action)\n  listeners.forEach((listener) => {\n    listener(memoryState)\n  })\n}\n\ntype Toast = Omit<ToasterToast, \"id\">\n\nfunction toast({ ...props }: Toast) {\n  const id = genId()\n\n  const update = (props: ToasterToast) =>\n    dispatch({\n      type: \"UPDATE_TOAST\",\n      toast: { ...props, id },\n    })\n  const dismiss = () => dispatch({ type: \"DISMISS_TOAST\", toastId: id })\n\n  dispatch({\n    type: \"ADD_TOAST\",\n    toast: {\n      ...props,\n      id,\n      open: true,\n      onOpenChange: (open) => {\n        if (!open) dismiss()\n      },\n    },\n  })\n\n  return {\n    id: id,\n    dismiss,\n    update,\n  }\n}\n\nfunction useToast() {\n  const [state, setState] = React.useState<State>(memoryState)\n\n  React.useEffect(() => {\n    listeners.push(setState)\n    return () => {\n      const index = listeners.indexOf(setState)\n      if (index > -1) {\n        listeners.splice(index, 1)\n      }\n    }\n  }, [state])\n\n  return {\n    ...state,\n    toast,\n    dismiss: (toastId?: string) => dispatch({ type: \"DISMISS_TOAST\", toastId }),\n  }\n}\n\nexport { useToast, toast }\n","\"use client\"\r\nimport { IElement, ElementStatusType, useWorkspace } from \"@/context\";\r\nimport { Loader, LucideIcon, Pause, Play, RefreshCcw } from \"lucide-react\";\r\nimport React from \"react\";\r\nimport { useCountdown } from \"@/context/countdown\";\r\nimport clsx from \"clsx\";\r\n\r\nfunction Timer({ element }: { element: IElement }) {\r\n  const { projectDispatch, projectState } = useWorkspace()\r\n  const { startCountdown, resetCountdown, pauseCountdown } = useCountdown()\r\n\r\n  React.useEffect(() => {\r\n    if (projectState.startedElement && projectState.startedElement?.metadata?.whenFinish?.migrateTo !== undefined && projectState.startedElement?.metadata?.status === \"ACTIVE\") {\r\n      startCountdown(projectState.startedElement?.metadata.ETA)\r\n    }\r\n  }, [projectState.startedElement?.metadata?.whenFinish?.migrateTo, projectState.startedElement?.metadata?.status])\r\n\r\n  function changeStatus(status: ElementStatusType) {\r\n    const newElement: IElement = {\r\n      ...element,\r\n      metadata: {\r\n        ...element.metadata,\r\n        status,\r\n        ETA: status == \"IDLE\" ? element.metadata?.duration : element.metadata?.ETA,\r\n        whenFinish: status == \"IDLE\" ? undefined : element.metadata?.whenFinish,\r\n      }\r\n    }\r\n\r\n    projectDispatch({\r\n      type: \"START_ELEMENT\",\r\n      payload: {\r\n        element: newElement\r\n      }\r\n    })\r\n\r\n    projectDispatch({\r\n      type: \"UPDATE_ELEMENT\",\r\n      payload: {\r\n        oldElement: element,\r\n        newElement: newElement\r\n      }\r\n    })\r\n  }\r\n\r\n  function active() {\r\n    if (projectState.startedElement?.metadata?.whenFinish?.migrateTo !== undefined) {\r\n      changeStatus(\"ACTIVE\")\r\n      const el = projectState.project\r\n      if (el) {\r\n        if (el.metadata?.status === \"IDLE\") {\r\n          startCountdown(el.metadata?.duration)\r\n        } else {\r\n          startCountdown(el.metadata?.ETA)\r\n        }\r\n      }\r\n    } else {\r\n      changeStatus(\"LINK\")\r\n      pauseCountdown()\r\n    }\r\n  }\r\n\r\n  function pause() {\r\n    changeStatus(\"PAUSED\")\r\n    pauseCountdown()\r\n  }\r\n\r\n  function reset() {\r\n    if (projectState.startedElement?.id === element.id) {\r\n      resetCountdown()\r\n    }\r\n    changeStatus(\"IDLE\")\r\n  }\r\n\r\n  return element.metadata?.status !== \"FINISHED\" && (\r\n    <div className=\"flex items-center\">\r\n      {element.metadata?.status === \"LINK\" && <TimerButton onClick={pause} icon={Loader} className=\"animate-spin\" />}\r\n\r\n      {(element.metadata?.status !== \"IDLE\"\r\n        && element.metadata?.status !== \"LINK\")\r\n        && <TimerButton onClick={reset} icon={RefreshCcw} />}\r\n\r\n      {(element.metadata?.status !== \"ACTIVE\"\r\n        && element.metadata?.status !== \"LINK\")\r\n        && <TimerButton onClick={active} icon={Play} />}\r\n      {element.metadata?.status === \"ACTIVE\" && <TimerButton onClick={pause} icon={Pause} />}\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction TimerButton({ icon: Icon, onClick, className }: { onClick: () => void, icon: LucideIcon, className?: string }) {\r\n  return <button onClick={onClick} className={clsx(\"p-2 hover:bg-neutral-400/20 rounded-full\", className)}>\r\n    <Icon className=\"w-4 h-4\" />\r\n  </button>\r\n}\r\n\r\nTimer.displayName = \"Timer\"\r\nexport default Timer","\"use client\"\r\nimport React from \"react\"\r\nimport { useWorkspace } from \"../workspace\";\r\nimport { getMinutes, getSeconds } from \"@/lib/utils\";\r\n\r\n\r\ninterface CountdownContextData {\r\n  minutes: number;\r\n  seconds: number;\r\n  hasFinished: boolean;\r\n  isActive: boolean;\r\n  startCountdown: (time?: number) => void;\r\n  resetCountdown: () => void;\r\n  pauseCountdown: () => void;\r\n  time: number;\r\n\r\n}\r\n\r\nconst Context = React.createContext<CountdownContextData>({} as CountdownContextData)\r\n\r\nconst maxMinutes = 25;\r\nlet countdownTimeout: NodeJS.Timeout;\r\n\r\nexport const CountdownProvider = ({ children }: { children: React.ReactNode }) => {\r\n  const { projectState, updateElement, completeElementCycle } = useWorkspace()\r\n  const [time, setTime] = React.useState(projectState.startedElement?.metadata?.duration || maxMinutes);\r\n  const [isActive, setIsActive] = React.useState(false);\r\n  const [hasFinished, setHasFinished] = React.useState(false);\r\n\r\n  const [minutes, setMinutes] = React.useState(getMinutes(time))\r\n  const [seconds, setSeconds] = React.useState(getSeconds(time))\r\n\r\n  function startCountdown(_time: number = maxMinutes) {\r\n    clearTimeout(countdownTimeout);\r\n    setTime(_time)\r\n    setMinutes(getMinutes(_time))\r\n    setSeconds(getSeconds(_time))\r\n    setIsActive(true);\r\n  }\r\n\r\n  function resetCountdown() {\r\n    clearTimeout(countdownTimeout);\r\n    setIsActive(false);\r\n    setTime(projectState.startedElement?.metadata?.duration || maxMinutes);\r\n    setHasFinished(false);\r\n  }\r\n  React.useEffect(() => {\r\n    if (projectState.startedElement && projectState.startedElement.metadata?.whenFinish?.migrateTo) {\r\n\r\n      if (isActive && time > 0) {\r\n        countdownTimeout = setTimeout(() => {\r\n          const newTime = time - 1\r\n          setTime(newTime);\r\n          setMinutes(Math.floor(newTime / 60))\r\n          setSeconds(newTime % 60)\r\n          if (projectState.startedElement && newTime % 4 === 0) {\r\n            updateElement(projectState.startedElement, {\r\n              ...projectState.startedElement,\r\n              metadata: {\r\n                ...projectState.startedElement.metadata,\r\n                ETA: time\r\n              }\r\n            })\r\n          }\r\n        }, 1000);\r\n\r\n      } else if (isActive && time === 0) {\r\n        setHasFinished(true);\r\n        setIsActive(false);\r\n        resetCountdown()\r\n        if (projectState.startedElement && projectState.startedElement.metadata?.whenFinish?.migrateTo) {\r\n          completeElementCycle()\r\n        }\r\n      }\r\n    } else {\r\n      resetCountdown()\r\n    }\r\n    return () => clearTimeout(countdownTimeout)\r\n  }, [isActive, time]);\r\n\r\n  function pauseCountdown() {\r\n    setIsActive(false)\r\n  }\r\n\r\n  return (\r\n    <Context.Provider value={{\r\n      minutes,\r\n      seconds,\r\n      hasFinished,\r\n      isActive,\r\n      startCountdown,\r\n      resetCountdown,\r\n      pauseCountdown,\r\n      time\r\n    }}>\r\n      {children}\r\n    </Context.Provider>\r\n  )\r\n}\r\n\r\n\r\nexport const useCountdown = () => {\r\n  const context = React.useContext(Context)\r\n  if (!context) throw new Error(\"you must define Board context before use Board hooks\")\r\n\r\n  return context\r\n}","import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  \"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground hover:bg-primary/80\",\n        secondary:\n          \"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        destructive:\n          \"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80\",\n        outline: \"text-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\n  )\n}\n\nexport { Badge, badgeVariants }\n","import clsx from \"clsx\"\r\nimport React from \"react\"\r\nimport { v4 } from \"uuid\"\r\n\r\nconst numbers: Record<string, string> = {\r\n  \"0\": \"-translate-y-0\",\r\n  \"1\": \"-translate-y-8\",\r\n  \"2\": \"-translate-y-16\",\r\n  \"3\": \"-translate-y-24\",\r\n  \"4\": \"-translate-y-32\",\r\n  \"5\": \"-translate-y-40\",\r\n  \"6\": \"-translate-y-48\",\r\n  \"7\": \"-translate-y-56\",\r\n  \"8\": \"-translate-y-64\",\r\n  \"9\": \"-translate-y-72\",\r\n}\r\n\r\nconst Roll = React.memo(({ value }: { value: number }) => {\r\n  let [a, b] = value.toString()\r\n\r\n  if (!b) {\r\n    b = a\r\n    a = `0`\r\n  }\r\n\r\n  return (\r\n    <span className={\"rounded-sm max-h-7 overflow-hidden text-neutral-950/80 flex text-lg font-mono \"}>\r\n      <div className={clsx(\"flex flex-col gap-1 transition-all delay-0\", numbers[a || \"0\"])}>\r\n        {\r\n          Object.keys(numbers).map((number, index) => (\r\n            <span key={number + 100 + value + index + v4()} >{number}</span>\r\n          ))\r\n        }\r\n      </div>\r\n      <div className={clsx(\"flex flex-col gap-1 transition-all delay-0\", numbers[b])}>\r\n        {\r\n          Object.keys(numbers).map((number, index) => (\r\n            <span key={number + index + value + v4()}>{number}</span>\r\n          ))\r\n        }\r\n      </div>\r\n    </span>\r\n  )\r\n})\r\n\r\nRoll.displayName = \"Roll\"\r\nexport default Roll ","\"use client\"\r\nimport Roll from \"@/components/ui/roll\"\r\nimport { IElement, useWorkspace } from \"@/context\"\r\nimport { useCountdown } from \"@/context/countdown\"\r\nimport { convertToSeconds, getMinutes, getSeconds } from \"@/lib/utils\"\r\nimport React from \"react\"\r\n\r\nconst Counterdown = ({ element }: { element: IElement }) => {\r\n  const { minutes, seconds } = useCountdown()\r\n  const { projectState, updateElement } = useWorkspace()\r\n\r\n  const [newTime, setNewTime] = React.useState({\r\n    minutes: getMinutes(projectState.startedElement?.metadata?.duration || 0) || 0,\r\n    seconds: getSeconds(projectState.startedElement?.metadata?.duration || 0) || 0\r\n  })\r\n\r\n  function updateDuration(type: \"minutes\" | \"seconds\", value: number) {\r\n\r\n    setNewTime(prev => {\r\n      const newTime = convertToSeconds(type == \"minutes\" ? value : prev.minutes, type == \"seconds\" ? value : prev.seconds)\r\n      projectState.startedElement\r\n        && updateElement(projectState.startedElement, {\r\n          ...projectState.startedElement,\r\n          metadata: {\r\n            ...projectState.startedElement.metadata,\r\n            duration: newTime,\r\n            ETA: newTime,\r\n          }\r\n        })\r\n\r\n      return ({\r\n        ...prev,\r\n        ...(type == \"minutes\" && { minutes: value }),\r\n        ...(type == \"seconds\" && { seconds: value }),\r\n      })\r\n    })\r\n\r\n  }\r\n\r\n  switch (element.metadata?.status) {\r\n    case \"ACTIVE\":\r\n      if (element.id !== projectState.startedElement?.id) return null\r\n      return <div className=\"flex items-center\">\r\n        <Roll value={minutes} />\r\n        <span>:</span>\r\n        <Roll value={seconds} />\r\n      </div>\r\n    case \"LINK\":\r\n      if (element.id !== projectState.startedElement?.id) return null\r\n      return <div className=\"flex items-center gap-1 select-none\">\r\n        <input\r\n          className=\"border rounded-sm max-w-14 text-center\"\r\n          type=\"number\"\r\n          value={newTime.minutes}\r\n          onChange={(e) => updateDuration(\"minutes\", Number(e.target.value))}\r\n        />\r\n        :\r\n        <input\r\n          className=\"border rounded-sm  max-w-14 text-center\"\r\n          type=\"number\"\r\n          value={newTime.seconds}\r\n          onChange={(e) => updateDuration(\"seconds\", Number(e.target.value))}\r\n        />\r\n      </div>\r\n    default:\r\n      return null\r\n  }\r\n}\r\n\r\nCounterdown.displayName = \"Counterdown\"\r\nexport default Counterdown","import { IElement, useWorkspace } from \"@/context\"\r\nimport Timer from \"../automation/timer\"\r\nimport { Badge } from \"../ui/badge\"\r\nimport Counterdown from \"../elements/utils/countdown\"\r\nimport { RawEditableText } from \"../elements/text\"\r\n\r\nfunction ElementToolbar({ element }: { element: IElement }) {\r\n  const { projectState, updateElement } = useWorkspace()\r\n\r\n  function renameElement(name: string) {\r\n    if (projectState.openedElement) {\r\n      updateElement(projectState.openedElement, { ...projectState.openedElement, title: name })\r\n    }\r\n  }\r\n\r\n  return projectState.project && (\r\n    <section className=\"flex flex-col w-full justify-between\">\r\n      <div className=\"flex px-2 border rounded-sm mx-2  shadow items-stretch \">\r\n        {\r\n          projectState.openedElement && <>\r\n            <RawEditableText\r\n              text={projectState.openedElement.title || \"\"}\r\n              callback={renameElement}\r\n              className=\"min-w-32 max-w-32 transition-all delay-75 my-1  px-2 !text-base  border border-dashed border-transparent group-hover/appbar:border-neutral-950/10 rounded-sm  whitespace-nowrap\"\r\n            />\r\n          </>\r\n        }\r\n        <div className=\"flex items-center w-full select-none gap-1\">\r\n        </div>\r\n\r\n        <div className=\"flex items-center border-l pl-2\">\r\n\r\n          <Counterdown element={element} />\r\n          <Timer element={element} />\r\n\r\n          <Badge variant={\"outline\"} className=\"h-6 rounded-sm opacity-80\">\r\n            <p className=\"!text-[10px]  select-none \">\r\n              {element.metadata?.status}\r\n            </p>\r\n          </Badge>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  )\r\n}\r\n\r\nElementToolbar.displayName = \"ElementToolbar\"\r\n\r\n\r\nexport default ElementToolbar","\"use client\"\n\nimport * as React from \"react\"\nimport * as ProgressPrimitive from \"@radix-ui/react-progress\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Progress = React.forwardRef<\n  React.ElementRef<typeof ProgressPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ProgressPrimitive.Root>\n>(({ className, value, ...props }, ref) => (\n  <ProgressPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative h-2 w-full overflow-hidden bg-secondary\",\n      className\n    )}\n    {...props}\n  >\n    <ProgressPrimitive.Indicator\n      className=\"h-full w-full flex-1 bg-primary transition-all animate-pulse\"\n      style={{ transform: `translateX(-${100 - (value || 0)}%)` }}\n    />\n  </ProgressPrimitive.Root>\n))\nProgress.displayName = ProgressPrimitive.Root.displayName\n\nexport { Progress }\n","import React from \"react\"\r\nimport { Dialog, DialogClose, DialogContent, DialogHeader, DialogPortal, DialogTitle, DialogTrigger } from \"./dialog\"\r\nimport { ColorResult, SliderPicker } from \"react-color\"\r\nimport clsx from \"clsx\"\r\nimport { Button } from \"./button\"\r\ninterface AvatarProps extends React.DetailedHTMLProps<React.HTMLAttributes<HTMLDivElement>, HTMLDivElement> {\r\n  editable?: boolean\r\n  callback?: (color: ColorResult) => void\r\n}\r\n\r\nconst AvatarRaw = React.forwardRef<HTMLDivElement, AvatarProps>(({ style, editable, callback, ...props }, ref) => {\r\n  return (\r\n    <div className=\"select-none w-fit h-fit overflow-hidden rounded-full \" ref={ref}>\r\n      <div\r\n        {...props}\r\n        className={clsx(\" w-8 h-8 rounded-full  border\", props.className)}\r\n        style={{\r\n          background: style?.background || \"linear-gradient(90deg, rgba(131,58,180,1) 0%, rgba(253,29,29,1) 50%, rgba(252,176,69,1) 100%)\",\r\n          ...style\r\n        }}\r\n      />\r\n    </div>\r\n  )\r\n})\r\nAvatarRaw.displayName = \"AvatarRaw\"\r\n\r\nconst emptyColor = { hex: \"\", hsl: { h: 0, l: 0, s: 0, a: 0 }, rgb: { b: 0, g: 0, r: 0, a: 0 } }\r\n\r\nconst AvatarEditor = React.forwardRef<HTMLDivElement, AvatarProps>(({ ...props }, ref) => {\r\n  const [color, setColor] = React.useState<ColorResult>(emptyColor)\r\n  const handleChangeComplete = (color: ColorResult) => {\r\n    setColor(color)\r\n    props.callback && props.callback(color)\r\n  }\r\n  return (\r\n    <>\r\n      <span className=\"w-full flex items-center justify-center \">\r\n        <AvatarRaw\r\n          ref={ref}\r\n          style={{ background: color.hex || props.style?.background }}\r\n          className=\"!w-16 !h-16 border-2\"\r\n          editable={props.editable ? props.editable : true}\r\n        />\r\n      </span>\r\n      <SliderPicker\r\n        color={color.hex || String(props.style?.background)}\r\n        className=\"select-none p-2\"\r\n        onChangeComplete={handleChangeComplete}\r\n      />\r\n    </>\r\n\r\n  )\r\n})\r\nAvatarEditor.displayName = \"AvatarEditor\"\r\n\r\nconst AvatarEditable = React.forwardRef<HTMLDivElement, AvatarProps>(({ ...props }, ref) => {\r\n  const [color, setColor] = React.useState<ColorResult | undefined>(undefined)\r\n  const handleChangeComplete = (color: ColorResult) => {\r\n    setColor(color)\r\n  }\r\n  const submit = () => props.callback && color && props.callback(color)\r\n  return (\r\n    <Dialog >\r\n      <DialogTrigger>\r\n        <AvatarRaw editable={props.editable ? props.editable : true} ref={ref} {...props} />\r\n      </DialogTrigger>\r\n\r\n      <DialogPortal>\r\n        <DialogContent className=\"min-h-40\">\r\n          <DialogHeader>\r\n            <DialogTitle className=\"select-none\"></DialogTitle>\r\n          </DialogHeader>\r\n          <AvatarEditor editable={props.editable ? props.editable : true} callback={handleChangeComplete}  {...props} />\r\n          <DialogClose asChild>\r\n            <Button\r\n              className={clsx(\"select-none \")}\r\n              variant={\"outline\"} onClick={submit}\r\n            >\r\n              salvar\r\n            </Button>\r\n          </DialogClose>\r\n        </DialogContent>\r\n      </DialogPortal>\r\n    </Dialog>\r\n  )\r\n})\r\nAvatarEditable.displayName = \"AvatarEditable\"\r\n\r\n\r\n\r\nconst Avatar = React.forwardRef<HTMLDivElement, AvatarProps>(({ ...props }, ref) => {\r\n  return props.editable\r\n    ? <AvatarEditable ref={ref} {...props} editable={props.editable ? props.editable : true} />\r\n    : <AvatarRaw ref={ref} {...props} editable={props.editable ? props.editable : true} />\r\n})\r\n\r\nAvatar.displayName = \"Avatar\"\r\nexport default Avatar\r\n\r\n\r\nexport {\r\n  AvatarEditable,\r\n  Avatar,\r\n  AvatarEditor,\r\n  AvatarRaw,\r\n}","\"use client\"\n\nimport * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Dialog = DialogPrimitive.Root\n\nconst DialogTrigger = DialogPrimitive.Trigger\n\nconst DialogPortal = DialogPrimitive.Portal\n\nconst DialogClose = DialogPrimitive.Close\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n))\nDialogContent.displayName = DialogPrimitive.Content.displayName\n\nconst DialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogHeader.displayName = \"DialogHeader\"\n\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogFooter.displayName = \"DialogFooter\"\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogTitle.displayName = DialogPrimitive.Title.displayName\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDialogDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogClose,\n  DialogTrigger,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n}\n","\"use client\"\r\nimport { useWorkspace } from \"@/context\"\r\nimport ExportProject from \"../workspace-io/export.project\"\r\nimport { RawEditableText } from \"../elements/text\"\r\nimport ExportWorkspace from \"../workspace-io/export.workspace\"\r\nimport LocalStorageSync from \"../automation/localStorage.sync\"\r\nimport ElementToolbar from \"./toolbar\"\r\nimport clsx from \"clsx\"\r\nimport React from \"react\"\r\nimport { Progress } from \"../ui/progress\"\r\nimport { useCountdown } from \"@/context/countdown\"\r\nimport Avatar from \"../ui/avatar\"\r\nimport { Settings } from \"lucide-react\"\r\n\r\nfunction calculateProgress(currentValue: number, maxValue: number): number {\r\n\r\n  if (maxValue <= 0) {\r\n    throw new Error(\"Maximum value must be greater than 0\");\r\n  }\r\n\r\n  const progressPercentage = Math.min(\r\n    100,\r\n    ((currentValue / maxValue) * 100)\r\n  );\r\n\r\n  return progressPercentage;\r\n}\r\n\r\n\r\nfunction Appbar() {\r\n  const { globalState, globalDispatch, setConfigMode, projectState, deselectProject, updateElement } = useWorkspace()\r\n  const { time } = useCountdown()\r\n\r\n  function renameWordspace(value: string) {\r\n    globalDispatch({\r\n      type: \"UPDATE_ELEMENT\",\r\n      payload: {\r\n        oldElement: globalState.workspace,\r\n        newElement: {\r\n          ...globalState.workspace,\r\n          title: value\r\n        },\r\n      }\r\n    })\r\n  }\r\n\r\n  function renameProject(value: string) {\r\n    if (projectState.project) {\r\n      updateElement(projectState.project, {\r\n        ...projectState.project,\r\n        title: value\r\n      })\r\n    }\r\n  }\r\n\r\n  function openProjectSettings() {\r\n    if (projectState.configMode || globalState.configMode) {\r\n      setConfigMode(false)\r\n    } else {\r\n      setConfigMode(true)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <header\r\n      className={\r\n        clsx(\r\n          \"group/appbar min-h-28 max-h-28 h-28 w-full \",\r\n          !projectState.openedElement && \"!h-14 !min-h-14\",\r\n          [(projectState.project && !projectState.openedElement) && \"transition-all\"]\r\n        )}>\r\n      <nav\r\n        className={\r\n          clsx(\r\n            \"px-2  w-full flex items-center justify-between h-1/2  \",\r\n            !projectState.openedElement && \"!h-full\"\r\n          )}>\r\n        <div className=\"flex items-center gap-1\">\r\n          <span className=\"flex\">\r\n\r\n            <button\r\n              onClick={projectState.project ? deselectProject : () => { }}\r\n              className=\"rounded-full flex\"\r\n            >\r\n              <Avatar\r\n                editable={false}\r\n                style={{\r\n                  background: globalState.workspace.style.background\r\n                }}\r\n                className=\"!blur-md\"\r\n              />\r\n            {\r\n                projectState.project &&\r\n                <span className=\"-ml-4\">\r\n                  <Avatar\r\n                    editable={false}\r\n                    className=\"!blur-md \"\r\n                    style={{\r\n                      background: projectState.project.style.background\r\n                    }}\r\n                  />\r\n                </span>\r\n            }\r\n            </button>\r\n          </span>\r\n\r\n          <RawEditableText\r\n            text={projectState.project ? projectState.project.title || \"insira um nome\" : globalState.workspace.title || \"insira um nome\"}\r\n            callback={\r\n              projectState.project\r\n                ? renameProject\r\n                : renameWordspace\r\n            }\r\n            className=\"transition-all delay-75  px-2 h-8 !text-base  border border-dashed border-transparent group-hover/appbar:border-neutral-950/10 rounded-sm  whitespace-nowrap max-w-40 min-w-20\"\r\n          />\r\n          <button onClick={openProjectSettings} className=\"opacity-0 group-hover/appbar:opacity-80 p-2  rounded-full hover:bg-neutral-500/10 hover:shadow transition-all\">\r\n            <Settings className=\"w-4 h-4\" />\r\n          </button>\r\n        </div>\r\n\r\n        <div className=\"flex gap-2  whitespace-nowrap items-center flex-row\">\r\n          <LocalStorageSync />\r\n        {\r\n            projectState.project && <ExportProject />\r\n        }\r\n        {\r\n            !projectState.project && globalState.workspace.content.length > 0 && <ExportWorkspace />\r\n        }\r\n        </div>\r\n      </nav>\r\n      <div className={clsx(\" h-1/2  flex flex-col justify-between\", !projectState.openedElement && \"!h-0\")}>\r\n        {projectState.openedElement && <ElementToolbar element={projectState.openedElement} />}\r\n        <Progress className=\"h-1 z-50\" value={100 - calculateProgress(time, projectState.startedElement?.metadata?.duration || 20)} />\r\n\r\n      </div>\r\n    </header>\r\n  )\r\n}\r\n\r\n\r\nAppbar.displayName = \"Appbar\"\r\n\r\n\r\nexport default Appbar","\"use client\"\r\nimport { IElement, useWorkspace } from \"@/context\"\r\nimport clsx from \"clsx\"\r\nimport { Plus } from \"lucide-react\"\r\nimport { v4 } from \"uuid\"\r\nimport ImportProject from \"../../workspace-io/import.project\"\r\nimport DashedContainer from \"../../ui/dashed-container\"\r\nimport { generateGradient } from \"@/lib/colors\"\r\nimport ImportWorkspace from \"../../workspace-io/import.workspace\"\r\n\r\n\r\n\r\nconst AddProjectBtn = ({ dense = false }: { dense?: boolean }) => {\r\n\r\n  const { globalState, selectProject } = useWorkspace()\r\n  function addBoard() {\r\n    const id = v4()\r\n    const title = \"projeto sem tÃ­tulo\"\r\n    const element: IElement = {\r\n      id,\r\n      position: globalState.workspace.content.length + 1,\r\n      parent: \"root\",\r\n      content: [],\r\n      type: \"project\",\r\n      style: {\r\n        background: generateGradient(),\r\n      },\r\n      updatedAt: new Date(),\r\n      title,\r\n      summary: {\r\n        parents: [\"root\"],\r\n        child: []\r\n      },\r\n      project: id\r\n    }\r\n    selectProject(element)\r\n  }\r\n\r\n\r\n  return (\r\n    <DashedContainer dense={dense} onClick={addBoard} className=\"!cursor-pointer\" >\r\n      <Plus className=\"opacity-60\" />\r\n      <p className=\"text-center px-1\">new project</p>\r\n    </DashedContainer>\r\n  )\r\n}\r\n\r\nfunction CreateProject({ dense = false }: { dense?: boolean }) {\r\n\r\n  if (dense) {\r\n    return <div className=\"w-full h-full grid grid-cols-2 gap-1 grid-rows-2\">\r\n      <AddProjectBtn dense={dense} />\r\n      <ImportProject dense={dense} />\r\n      <ImportWorkspace dense={dense} />\r\n      <DashedContainer dense={dense} disabled type=\"shadow\" />\r\n    </div>\r\n  }\r\n\r\n  return (\r\n    <div className={clsx(\"flex flex-col items-center justify-center gap-2 w-full my-auto\")}>\r\n      <AddProjectBtn />\r\n      <span className=\"w-full h-full flex gap-2\">\r\n        <ImportProject />\r\n        <ImportWorkspace />\r\n      </span>\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\n\r\nCreateProject.displayName = \"CreateProject\"\r\n\r\nexport default CreateProject","\"use client\"\r\n\r\nimport { useWorkspace } from \"@/context\";\r\nimport { Cloud, File } from \"lucide-react\";\r\nimport React from \"react\"\r\nimport DashedContainer from \"../ui/dashed-container\";\r\nimport { upload } from \"@/lib/upload\";\r\n\r\nfunction ImportProject({ dense = false }: { dense?: boolean }) {\r\n  const { globalDispatch } = useWorkspace()\r\n\r\n  const handleImport = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const file = (e.target.files || [])[0];\r\n    if (!file) return null\r\n    upload(file, (data) => {\r\n      if (data.type) {\r\n        globalDispatch({\r\n          type: \"LOAD_PROJECT\",\r\n          payload: {\r\n            project: data\r\n          }\r\n        })\r\n      }\r\n    })\r\n  };\r\n\r\n  return (\r\n    <DashedContainer dense={dense} type={dense ? \"default\" : \"shadow\"} className=\"relative overflow-hidden\">\r\n      <label\r\n        htmlFor=\"dropzone-file\"\r\n        className=\" flex flex-col gap-1 items-center justify-center !cursor-pointer\"\r\n      >\r\n        <File className=\"opacity-60\" />\r\n        <p className=\"text-center px-1\">import project</p>\r\n        <input onChange={handleImport} id=\"dropzone-file\" type=\"file\" className=\"cursor-pointer absolute opacity-0 h-[250%]\" />\r\n      </label>\r\n    </DashedContainer >\r\n  )\r\n}\r\n\r\n\r\nImportProject.displayName = \"ImportProject\"\r\nexport default ImportProject","import { cn } from \"@/lib/utils\"\r\nimport clsx from \"clsx\"\r\nimport React from \"react\"\r\n\r\ninterface Props extends React.DetailedHTMLProps<React.HTMLAttributes<HTMLDivElement>, HTMLDivElement> {\r\n  dense?: boolean\r\n  disabled?: boolean\r\n  type?: \"default\" | \"shadow\"\r\n  childClassName?: string\r\n}\r\n\r\nconst DashedContainer = React.forwardRef<HTMLDivElement, Props>(({ dense, type = \"default\", childClassName, ...props }, ref) => {\r\n  const { className, children } = props\r\n  return (\r\n    <div\r\n      ref={ref}\r\n      {...props}\r\n      className={clsx(\r\n        \"transition-all  group/dashedContainer py-12 cursor-pointer w-full h-full rounded-sm border-2 border-dashed\",\r\n        [type == \"default\" && \"border-blue-200 bg-blue-200/10 hover:bg-blue-200/30\"],\r\n        [type == \"shadow\" && \"border-slate-200 bg-slate-200/10 hover:bg-slate-200/30\"],\r\n        [dense && \"!p-0\"],\r\n        \"text-xs uppercase  \",\r\n        [dense && \"!capitalize !border\"],\r\n        [props.disabled &&\r\n          type == \"default\"\r\n          ? \"hover:!bg-blue-200/10 !cursor-default\"\r\n          : \"hover:!bg-slate-200/10 !cursor-default\"\r\n        ],\r\n        className,\r\n      )}>\r\n      <div className={cn(\"select-none w-full h-full flex items-center justify-center flex-col gap-1 opacity-70 text-slate-700 group-hover/dashedContainer:opacity-100 transition-all px-1\", childClassName)}>\r\n        {children}\r\n      </div>\r\n    </div>\r\n  )\r\n})\r\n\r\nDashedContainer.displayName = \"DashedContainer\"\r\nexport default DashedContainer","\r\nexport function upload(file: File, callback: (data: any) => void) {\r\n  if (!file) return null\r\n  const reader = new FileReader();\r\n  reader.onload = () => {\r\n    const data = JSON.parse(reader.result as string);\r\n    callback(data)\r\n  };\r\n  reader.readAsText(file);\r\n}","\"use client\"\r\nimport { useWorkspace } from \"@/context\";\r\nimport { Folder } from \"lucide-react\";\r\nimport React from \"react\"\r\nimport DashedContainer from \"../ui/dashed-container\";\r\nimport { upload } from \"@/lib/upload\";\r\n\r\n\r\nfunction ImportWorkspace({ dense = false }: { dense?: boolean }) {\r\n  const { globalDispatch } = useWorkspace()\r\n\r\n  const handleImport = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const file = (e.target.files || [])[0];\r\n    if (!file) return null\r\n    upload(file, (data) => {\r\n      if (data.projects) {\r\n        globalDispatch({\r\n          type: \"LOAD_WORKSPACE\",\r\n          payload: {\r\n            data\r\n          }\r\n        })\r\n      }\r\n    })\r\n  };\r\n\r\n  return (\r\n    <DashedContainer dense={dense} type={dense ? \"default\" : \"shadow\"} className=\"relative !overflow-hidden\">\r\n      <label\r\n        htmlFor=\"dropzone-workspace\"\r\n        className=\"flex flex-col gap-1 items-center justify-center !cursor-pointer \"\r\n      >\r\n        <Folder className=\"opacity-60\" />\r\n        <p className=\"text-center\">import workspace</p>\r\n        <input onChange={handleImport} id=\"dropzone-workspace\" type=\"file\" className=\"cursor-pointer absolute opacity-0 h-[250%]\" />\r\n      </label>\r\n    </DashedContainer >\r\n  )\r\n}\r\n\r\n\r\nImportWorkspace.displayName = \"ImportWorkspace\"\r\nexport default ImportWorkspace","\"use client\"\r\n\r\nimport React from \"react\"\r\nimport { clsx } from \"clsx\"\r\nimport { Link } from \"lucide-react\"\r\nimport Element, { ElementProps } from \".\"\r\nimport { AddElement } from \"./utils/add\"\r\nimport Paper from \"../ui/paper\"\r\nimport { useWorkspace } from \"@/context\"\r\n\r\nexport function Task({ element, type, ...props }: ElementProps) {\r\n  const { dense = false } = props\r\n  const { globalDispatch, projectState, } = useWorkspace()\r\n\r\n  if (projectState.startedElement && projectState.startedElement.id !== element.id) {\r\n    if (element.metadata?.status === \"ACTIVE\") {\r\n      globalDispatch({\r\n        type: \"CHANGE_STATUS\",\r\n        payload: {\r\n          element: element,\r\n          status: \"PAUSED\"\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  return (\r\n\r\n    <Paper\r\n      status={element.metadata?.status}\r\n      dense={dense}\r\n        className={clsx(\r\n          \"relative group/card w-full h-full flex-col  items-start p-1 transition-all delay-75 py-1\",\r\n          [projectState.startedElement && projectState.startedElement.id !== element.id && !projectState.startedElement.metadata?.whenFinish?.migrateTo && \"\"]\r\n        )}\r\n      >\r\n      <span className=\"flex items-center justify-between w-full gap-1\">\r\n        <Element type={\"text\"} element={element} raw />\r\n      </span>\r\n\r\n      <div className=\"h-full w-full px-1 gap-1 flex flex-col py-1\">\r\n          {\r\n            Array.isArray(element.content) && element.content.map(el => (\r\n              <Element key={el.id} type={el.type} element={el} {...props} />\r\n            ))\r\n          }\r\n        {<AddElement type={\"add\"} element={element} />}\r\n        </div>\r\n        {\r\n          !dense &&\r\n        <div className=\"flex items-center justify-between w-full h-fit gap-1\">\r\n\r\n\r\n              {/* <span className=\"text-xs font-bold uppercase line-clamp-1 max-w-24\">{(element.parent)}</span> */}\r\n\r\n            <div className=\"w-full flex justify-end\">\r\n              <button className=\"p-2 rounded-full hover:bg-neutral-900/10 \">\r\n                {element.metadata?.whenFinish?.migrateTo && <Link className=\"w-4 h-4\" />}\r\n              </button>\r\n            </div>\r\n        </div>\r\n        }\r\n\r\n    </Paper>\r\n  )\r\n}","\"use client\"\r\nimport { ElementType, IElement, useWorkspace } from \"@/context\";\r\nimport clsx from \"clsx\";\r\nimport { Plus, Text, Group, LucideIcon, RectangleHorizontal, RectangleVertical, Folder, Ruler, Paintbrush } from \"lucide-react\";\r\nimport React from \"react\";\r\nimport { v4 } from \"uuid\"\r\nimport { ElementProps } from \"..\";\r\nimport { generateGradient } from \"@/lib/colors\";\r\n\r\n\r\ntype AddElementOpts = Omit<Partial<Record<ElementType, boolean>>, \"add\">\r\n\r\ninterface Props extends Partial<ElementProps> {\r\n  board?: IElement\r\n  permanent?: boolean\r\n  opts?: AddElementOpts\r\n}\r\n\r\nconst defaultOpts: AddElementOpts = {\r\n  board: true,\r\n  feed: true,\r\n  group: true,\r\n  task: true,\r\n  text: true,\r\n  project: false,\r\n  details: false,\r\n  avatar: true\r\n}\r\n\r\nexport function AddElement({ element, dense = false, board, permanent = false, opts, ...props }: Props) {\r\n  if (!opts) {\r\n    opts = defaultOpts\r\n  } else {\r\n    opts = {\r\n      ...defaultOpts,\r\n      ...opts,\r\n    }\r\n  }\r\n\r\n  const { addElement, projectState } = useWorkspace()\r\n\r\n  function addAnElement(type: ElementType) {\r\n    if (!element) return null\r\n    const title = type == \"text\" ? \"insira um texto\" : type + \" sem tÃ­tulo\"\r\n    const parent = element?.id || board?.id || \"root\"\r\n    const id = v4()\r\n\r\n    const newElement: IElement = {\r\n      id,\r\n      position: Array.isArray(element?.content) && element.content.length + 1 || 0,\r\n      parent,\r\n      content: [],\r\n      style: {\r\n        background: generateGradient(),\r\n      },\r\n      type,\r\n      title,\r\n      summary: {\r\n        child: [],\r\n        parents: [...element?.summary.parents || []]\r\n      },\r\n      updatedAt: new Date(),\r\n      metadata: {\r\n        status: \"IDLE\",\r\n        timer: {\r\n          IDLE: new Date()\r\n        },\r\n        ETA: 5,\r\n        duration: 5\r\n      },\r\n      project: projectState.project?.id || \"\"\r\n    }\r\n    addElement(newElement)\r\n  }\r\n\r\n  if (element?.metadata?.status === \"FINISHED\") return <div></div>\r\n  if (projectState.startedElement?.metadata?.status === \"ACTIVE\") return <div className=\"h-10 w-full min-w-[2.1rem]\"></div>\r\n\r\n  return (\r\n    <span className={clsx(\"relative group/addElement flex justify-center w-full min-h-12\", [dense && \"h-fit\"])}>\r\n      <button className={clsx(\"absolute top-0 bottom-0  min-h-8 opacity-0 group-hover/feed:opacity-10  group-hover/addElement:hidden w-full flex items-center justify-center\")} >\r\n        <Plus />\r\n      </button>\r\n      <div className={clsx(\"h-full w-full flex items-center min-h-12 justify-center gap-1\", dense && \"!min-h-fit\")}>\r\n\r\n        {opts.feed\r\n          && <Button\r\n            className={props.className}\r\n            dense={dense}\r\n            permanent={permanent}\r\n            icon={RectangleVertical}\r\n            onClick={() => addAnElement(\"feed\")} />}\r\n\r\n        {opts.group\r\n          && <Button\r\n            className={props.className}\r\n            permanent={permanent}\r\n            dense={dense}\r\n            icon={Group}\r\n            onClick={() => addAnElement(\"group\")} />}\r\n\r\n        {opts.task\r\n          && <Button\r\n            className={props.className}\r\n            permanent={permanent}\r\n            dense={dense}\r\n            icon={RectangleHorizontal}\r\n            onClick={() => addAnElement(\"task\")} />}\r\n\r\n        {opts.text\r\n          && <Button\r\n            className={props.className}\r\n            permanent={permanent}\r\n            dense={dense}\r\n            icon={Text}\r\n            onClick={() => addAnElement(\"text\")} />}\r\n\r\n        {opts.project\r\n          && <Button\r\n            className={props.className}\r\n            permanent={permanent}\r\n            dense={dense}\r\n            icon={Folder}\r\n            onClick={() => addAnElement(\"project\")} />}\r\n\r\n        {opts.details\r\n          && <Button\r\n            className={props.className}\r\n            permanent={permanent}\r\n            dense={dense}\r\n            icon={Ruler}\r\n            onClick={() => addAnElement(\"details\")} />}\r\n\r\n        {opts.avatar\r\n          && <Button\r\n            className={props.className}\r\n            permanent={permanent}\r\n            dense={dense}\r\n            icon={Paintbrush}\r\n            onClick={() => addAnElement(\"avatar\")} />}\r\n\r\n      </div>\r\n    </span>\r\n  )\r\n}\r\n\r\nfunction Button({\r\n  icon: Icon,\r\n  onClick,\r\n  permanent,\r\n  dense,\r\n  className\r\n}: { icon: LucideIcon, onClick: () => void, permanent: boolean, dense: boolean, className?: string }) {\r\n  return (\r\n    <button\r\n      onClick={onClick}\r\n      className={\r\n        clsx(\r\n          \"group/addElementBtn p-2 h-full border rounded-sm items-center justify-center flex\",\r\n          !permanent && \"hidden group-hover/addElement:flex\",\r\n          dense && \"!p-1\",\r\n          className\r\n        )} >\r\n      <Icon className={\r\n        clsx(\r\n          \"w-4 h-4 group-hover/addElementBtn:scale-110 group-hover/addElementBtn:!opacity-100 opacity-50 transition-all delay-75\",\r\n          permanent && \"opacity-60\"\r\n        )} />\r\n    </button>\r\n  )\r\n}\r\n\r\n\r\n","import { ElementStatusType } from \"@/context\"\r\nimport { cn } from \"@/lib/utils\"\r\nimport React from \"react\"\r\n\r\n\r\ninterface Props extends React.DetailedHTMLProps<React.HTMLAttributes<HTMLDivElement>, HTMLDivElement> {\r\n  active?: boolean\r\n  dense?: boolean\r\n  status?: ElementStatusType\r\n}\r\n\r\nconst Paper = React.forwardRef<HTMLDivElement, Props>(({ active = true, dense, className, status, ...props }, ref) => {\r\n\r\n  return (\r\n    <div\r\n      ref={ref}\r\n      {...props}\r\n      className={\r\n        cn(\"w-full  rounded-sm shadow border border-y-0 border-x-8 border-slate-400 bg-slate-200 h-8 flex items-center\", className,\r\n          [!active && \"opacity-50\"],\r\n          [status === \"ACTIVE\" && \"bg-green-100 border-green-700/30 \"],\r\n          [status === \"PAUSED\" && \"bg-orange-100 border-orange-700/30 \"],\r\n          [status === \"FINISHED\" && \"bg-neutral-100 border-neutral-700/30 \"],\r\n        )}\r\n    >\r\n      {props.children}\r\n    </div>\r\n  )\r\n})\r\n\r\n\r\nPaper.displayName = \"Paper\"\r\nexport default Paper","import DashedContainer from \"../ui/dashed-container\";\r\nimport { AddElement } from \"./utils/add\";\r\nimport Element, { ElementProps } from \".\";\r\n\r\nexport function GroupElement({ element, type, ...props }: ElementProps) {\r\n\r\n  return <DashedContainer dense type=\"shadow\" className=\"!py-1\" childClassName=\"!opacity-100 capitalize p-0 px-1\">\r\n    <Element type=\"text\" element={element} raw className=\"w-full\" />\r\n    {\r\n      Array.isArray(element.content) && element.content.map(content => (\r\n        <Element key={content.id} type={content.type} element={content} {...props} />\r\n      ))\r\n    }\r\n    <AddElement element={element} dense={props.dense} />\r\n\r\n  </DashedContainer>\r\n}","\"use client\"\r\n\r\nimport React from \"react\";\r\nimport { IElement, useWorkspace } from \"@/context\";\r\nimport clsx from \"clsx\";\r\ntype Props = {\r\n  children: React.ReactNode,\r\n  element: IElement,\r\n  disabled?: boolean,\r\n  justDrag?: boolean\r\n}\r\nexport function DragAndDrop({ children, element, disabled, justDrag = false }: Props) {\r\n  const { projectDispatch, projectState } = useWorkspace()\r\n  const [drag, setDrag] = React.useState<boolean>(false)\r\n\r\n  function onDragOver(e: React.DragEvent<HTMLDivElement>) {\r\n    if (justDrag) return null\r\n    e.preventDefault()\r\n    e.dataTransfer.dropEffect = \"move\"\r\n    e.stopPropagation()\r\n    if (!projectState.project) return null\r\n\r\n    projectDispatch({\r\n      type: \"SET_REF_ELEMENT\",\r\n      payload: {\r\n        element: element,\r\n      }\r\n    })\r\n  }\r\n\r\n  function onDragStart(e: React.DragEvent<HTMLDivElement>) {\r\n    e.stopPropagation()\r\n    projectDispatch({\r\n      type: \"SELECT_ELEMENT\",\r\n      payload: {\r\n        element: element\r\n      }\r\n    })\r\n    setDrag(true)\r\n  }\r\n\r\n  function onDragEnd() {\r\n    setDrag(false)\r\n\r\n    if (!projectState.selectedElement) return null\r\n    if (!projectState.refElement) return null\r\n    if (projectState.selectedElement.id === element.id) return null\r\n    if ((projectState.selectedElement.parent === projectState.refElement.id)) return null\r\n    if ((projectState.selectedElement.id === projectState.refElement.id)) return null\r\n    projectDispatch({\r\n      type: \"MIGRATE_ELEMENT\",\r\n      payload: {\r\n        to: projectState.refElement.id,\r\n        element: {\r\n          ...projectState.selectedElement,\r\n          position: projectState.refElement.content.length + 1\r\n        }\r\n      }\r\n    })\r\n    projectDispatch({\r\n      type: \"DESELECT_ELEMENT\",\r\n    })\r\n    projectDispatch({\r\n      type: \"REMOVE_REF_ELEMENT\",\r\n    })\r\n  }\r\n\r\n  return <div\r\n    onDragOver={onDragOver}\r\n    onDragStart={onDragStart}\r\n    onDragEnd={onDragEnd}\r\n    draggable={projectState.startedElement ? projectState.startedElement.metadata?.status !== \"ACTIVE\" : !disabled}\r\n    className={clsx(\r\n      \"relative group/dragAndDrop cursor-pointer w-full transition-all delay-75 h-full\",\r\n      [drag || (drag && projectState?.selectedElement && projectState?.selectedElement.id === element.id) && \"scale-90 opacity-50\"],\r\n      [disabled && \"cursor-default h-full w-full delay-75 transition-[width]\"],\r\n    )}\r\n  >\r\n    {children}\r\n  </div>\r\n}","\"use client\"\r\n\r\nimport { IElement, useWorkspace } from \"@/context\";\r\nimport clsx from \"clsx\";\r\nimport React from \"react\";\r\nimport Element from \"..\";\r\nimport Paper from \"../../ui/paper\";\r\nimport { useCountdown } from \"@/context/countdown\";\r\n\r\ntype Props = {\r\n  element: IElement,\r\n  children: React.ReactNode\r\n  opts?: {\r\n    delete?: boolean\r\n    minimaze?: boolean\r\n    select?: boolean\r\n  }\r\n}\r\n\r\nconst ElementActions = React.memo(({ element, children, opts }: Props) => {\r\n  const defaultOpts = {\r\n    delete: true,\r\n    minimaze: true,\r\n    select: true\r\n  }\r\n  if (!opts) {\r\n    opts = defaultOpts\r\n  } else {\r\n    opts = {\r\n      ...defaultOpts,\r\n      ...opts\r\n    }\r\n  }\r\n  const { projectState, projectDispatch, deleteElement } = useWorkspace()\r\n  const { startCountdown } = useCountdown()\r\n  const [select, isSelect] = React.useState<boolean>(projectState.selectedElement?.id == element.id)\r\n  const [minimaze, setMinimaze] = React.useState<boolean>(false)\r\n\r\n  const toogleMinimaze = () => {\r\n    setMinimaze(prev => !prev)\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    if (projectState.selectedElement && projectState.selectedElement.id == element.id) {\r\n      isSelect(true)\r\n    } else {\r\n      isSelect(false)\r\n    }\r\n  }, [projectState])\r\n\r\n  function selectElement(e: React.MouseEvent<HTMLDivElement, MouseEvent>\r\n  ) {\r\n    e.stopPropagation()\r\n    projectDispatch({\r\n      type: \"SELECT_ELEMENT\",\r\n      payload: {\r\n        element\r\n      }\r\n    })\r\n  }\r\n\r\n  function deselectElement(e: React.MouseEvent<HTMLDivElement, MouseEvent>\r\n  ) {\r\n    e.stopPropagation()\r\n    projectDispatch({\r\n      type: \"DESELECT_ELEMENT\",\r\n    })\r\n  }\r\n\r\n  function setRef() {\r\n    if (projectState.startedElement && !!!projectState.startedElement.metadata?.whenFinish?.migrateTo) {\r\n      const newElement: IElement = {\r\n        ...projectState.startedElement,\r\n        metadata: {\r\n          ...projectState.startedElement.metadata,\r\n          status: \"ACTIVE\",\r\n          whenFinish: {\r\n            migrateTo: element.id,\r\n          }\r\n        }\r\n      }\r\n      projectDispatch({\r\n        type: \"UPDATE_ELEMENT\",\r\n        payload: {\r\n          oldElement: projectState.startedElement,\r\n          newElement\r\n        }\r\n      })\r\n\r\n      projectDispatch({\r\n        type: \"START_ELEMENT\",\r\n        payload: {\r\n          element: newElement\r\n        }\r\n      })\r\n\r\n      startCountdown(newElement.metadata?.duration)\r\n    }\r\n\r\n  }\r\n\r\n  function openAndCloseElement(e: React.MouseEvent<HTMLButtonElement, MouseEvent>) {\r\n    e.stopPropagation()\r\n    if (projectState.openedElement && projectState.openedElement.id === element.id) {\r\n      projectDispatch({\r\n        type: \"REMOVE_OPEN_ELEMENT\",\r\n      })\r\n      return\r\n    }\r\n    projectDispatch({\r\n      type: \"OPEN_ELEMENT\",\r\n      payload: {\r\n        element\r\n      }\r\n    })\r\n  }\r\n\r\n\r\n  const couldElementBeLinked = projectState.startedElement\r\n    && projectState.startedElement.id !== element.id\r\n    && projectState.startedElement.metadata?.status === \"LINK\"\r\n    && !element.summary.parents.includes(projectState.startedElement.id)\r\n    && !projectState.startedElement.metadata?.whenFinish?.migrateTo\r\n    && element.metadata?.status !== \"FINISHED\"\r\n\r\n  return (\r\n    <div\r\n      className={\r\n        clsx(\" select-none relative w-full h-full flex flex-col rounded-sm transition-all delay-75\")}\r\n    >\r\n      <div onMouseEnter={selectElement} onMouseLeave={deselectElement} className={clsx(\r\n        \"absolute -top-2 -left-0 z-50 opacity-0 h-fit w-fit pr-4 flex items-center justify-between transition-all delay-75\",\r\n        (select || couldElementBeLinked) && \"opacity-100\",\r\n      )}>\r\n        <span className=\"flex \">\r\n          {\r\n            couldElementBeLinked\r\n              ? < ActionButton color=\"blue\" onClick={setRef} disabled={!opts.select} />\r\n              : <>\r\n                <ActionButton color=\"red\" onClick={() => deleteElement(element)} disabled={!opts.delete} />\r\n                <ActionButton color=\"orange\" onClick={toogleMinimaze} disabled={!opts.minimaze} />\r\n                <ActionButton color=\"green\" onClick={openAndCloseElement} disabled={!opts.minimaze} />\r\n              </>\r\n          }\r\n        </span>\r\n      </div>\r\n\r\n\r\n      {!minimaze &&\r\n        <div className={\r\n          clsx(\"w-full h-full relative\",\r\n            select && \"animate-pulse \",\r\n            [(projectState.startedElement?.metadata?.whenFinish?.migrateTo === element.id\r\n              || projectState.startedElement?.id === element.id)\r\n              && \"animate-pulse \"],\r\n          )}>\r\n          {children}\r\n        </div>}\r\n\r\n      {\r\n        minimaze &&\r\n        <Paper status={element.metadata?.status} active={!minimaze}>\r\n          <Element className=\"text-center w-full !capitalize\" type=\"text\" element={element} raw />\r\n        </Paper>\r\n      }\r\n    </div >\r\n  )\r\n})\r\n\r\ntype ActionButtonColors = \"blue\" | \"orange\" | \"red\" | \"green\"\r\nfunction ActionButton({ disabled, onClick, color }: { disabled: boolean, onClick: (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => void, color: ActionButtonColors }) {\r\n  const colorStyle = {\r\n    blue: {\r\n      button: \"hover:bg-blue-900/10\",\r\n      div: \"bg-blue-500\"\r\n    },\r\n    orange: {\r\n      button: \"hover:bg-orange-900/10\",\r\n      div: \"bg-orange-500\"\r\n    },\r\n    red: {\r\n      button: \"hover:bg-red-900/10\",\r\n      div: \"bg-red-500\"\r\n    },\r\n    green: {\r\n      button: \"hover:bg-green-900/10\",\r\n      div: \"bg-green-500\"\r\n    }\r\n  }[color]\r\n  return !disabled &&\r\n    <button className={clsx(\"z-50 relative flex items-center justify-center p-[.125rem] rounded-full\", colorStyle.button)} onClick={onClick}>\r\n      <div className={clsx(\"w-3 h-3  rounded-full\", colorStyle.div)} />\r\n      <div className={\"absolute w-2 h-2 bg-white/20 rounded-full\"} />\r\n    </button>\r\n}\r\n\r\n\r\nElementActions.displayName = \"ElementActions\"\r\nexport default ElementActions","\"use client\"\n\nimport * as React from \"react\"\nimport * as ScrollAreaPrimitive from \"@radix-ui/react-scroll-area\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ScrollArea = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <ScrollAreaPrimitive.Root\n    ref={ref}\n    className={cn(\"relative overflow-hidden\", className)}\n    {...props}\n  >\n    <ScrollAreaPrimitive.Viewport className=\"h-full w-full rounded-[inherit]\">\n      {children}\n    </ScrollAreaPrimitive.Viewport>\n    <ScrollBar />\n    <ScrollAreaPrimitive.Corner />\n  </ScrollAreaPrimitive.Root>\n))\nScrollArea.displayName = ScrollAreaPrimitive.Root.displayName\n\nconst ScrollBar = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>\n>(({ className, orientation = \"vertical\", ...props }, ref) => (\n  <ScrollAreaPrimitive.ScrollAreaScrollbar\n    ref={ref}\n    orientation={orientation}\n    className={cn(\n      \"flex touch-none select-none transition-colors\",\n      orientation === \"vertical\" &&\n        \"h-full w-2.5 border-l border-l-transparent p-[1px]\",\n      orientation === \"horizontal\" &&\n        \"h-2.5 flex-col border-t border-t-transparent p-[1px]\",\n      className\n    )}\n    {...props}\n  >\n    <ScrollAreaPrimitive.ScrollAreaThumb className=\"relative flex-1 rounded-full bg-border\" />\n  </ScrollAreaPrimitive.ScrollAreaScrollbar>\n))\nScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName\n\nexport { ScrollArea, ScrollBar }\n","import React from \"react\"\r\nimport clsx from \"clsx\"\r\nimport { ScrollArea } from \"../ui/scroll-area\"\r\nimport Element, { ElementProps } from \".\"\r\nimport { AddElement } from \"./utils/add\"\r\nimport Paper from \"../ui/paper\"\r\n\r\nexport function Feed({ element, type, ...props }: ElementProps) {\r\n  return (\r\n    <section\r\n      className={\"group group/feed relative flex flex-col h-full gap-1 \"}\r\n    >\r\n      <Paper status={element.metadata?.status} className={clsx(\"absolute z-40 top-0\")}>\r\n        <Element\r\n          raw\r\n          type={\"text\"}\r\n          element={element}\r\n          {...props} \r\n          className={clsx(\r\n            \"w-full h-full capitalize text-sm text-center leading-4 line-clamp-1 flex items-center justify-center whitespace-nowrap px-8\",\r\n            props.dense && \"text-xs\"\r\n          )} />\r\n      </Paper>\r\n      <ScrollArea style={props.style}>\r\n        <section className=\" flex flex-col gap-1 pt-9  bg-slate-200/30 rounded-sm px-1\">\r\n          {\r\n            (element.content || [])\r\n              .sort((a, b) => (a.position || 0) - (b.position || 0))\r\n              .map(el => (\r\n                <Element type={el.type} element={el} key={el.id} parentName={element.id} {...props} />\r\n              ))\r\n          }\r\n          <AddElement element={element} parentName={element.id} dense={props.dense} />\r\n        </section>\r\n      </ScrollArea>\r\n    </section>\r\n  )\r\n}","\"use client\"\r\n\r\nimport { useWorkspace } from \"@/context\";\r\nimport React, { Fragment } from \"react\";\r\nimport clsx from \"clsx\";\r\nimport Element, { ElementProps } from \".\";\r\nimport { ResizableHandle, ResizablePanel, ResizablePanelGroup } from \"../ui/resizable\";\r\nimport { AddElement } from \"./utils/add\";\r\n\r\nconst Board = React.memo(({ element, ...props }: ElementProps) => {\r\n  const { globalState, projectState } = useWorkspace()\r\n  if (!projectState.project) return null\r\n  return (\r\n    <div className=\"flex flex-col w-full h-full\">\r\n      <div className={clsx(\"w-full h-full flex relative \", globalState.workspace.content.length === 0 && \"hidden\")}>\r\n        <section className=\"flex  w-full px-2\">\r\n          {\r\n            element?.content.length > 0 &&\r\n            <ResizablePanelGroup\r\n              direction=\"horizontal\"\r\n              className=\"items-center justify-center grid-cols-5 gap-1\"\r\n            >\r\n              {\r\n                element.content\r\n                  .slice(0, 6)\r\n                  .filter(el => el.title !== undefined)\r\n                  .map((feed, index) => (\r\n                    <Fragment key={feed.id + index}  >\r\n                      <ResizablePanel minSize={20} className=\"h-full pt-2 \">\r\n                        <Element\r\n                          {...props}\r\n                          type={feed.type}\r\n                          element={feed}\r\n                          style={{\r\n                            maxHeight:\r\n                              projectState.openedElement\r\n                                ? `calc(100vh - 7rem - 2rem)`\r\n                                : `calc(100vh - 3.5rem - 2rem)`\r\n                          }} />\r\n                      </ResizablePanel>\r\n                      {\r\n                        (\r\n                          index <= element.content.slice(0, 6).length - 2\r\n                        ) && <ResizableHandle className=\"h-full\" key={feed.id + index + 100} />\r\n                      }\r\n                    </Fragment>\r\n                  ))\r\n              }\r\n            </ResizablePanelGroup>\r\n          }\r\n          <span className={clsx(element?.content.length > 0 ? \"w-fit h-fit flex pl-1 pt-[.45rem]\" : \"w-full h-full px-1 flex items-center justify-center transition-all delay-75\")}>\r\n            <AddElement\r\n              type={\"add\"}\r\n              element={element}\r\n              permanent\r\n              dense\r\n              className=\"!p-2\"\r\n              opts={{\r\n                board: false,\r\n                task: false,\r\n                group: false,\r\n                text: false,\r\n                project: false,\r\n                avatar: false\r\n              }} />\r\n          </span>\r\n        </section>\r\n\r\n      </div>\r\n\r\n    </div>\r\n  )\r\n})\r\n\r\n\r\nBoard.displayName = \"BoardFeeds\"\r\n\r\nexport default Board","\"use client\"\n\nimport { GripVertical } from \"lucide-react\"\nimport * as ResizablePrimitive from \"react-resizable-panels\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ResizablePanelGroup = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.PanelGroup>) => (\n  <ResizablePrimitive.PanelGroup\n    className={cn(\n      \"flex h-full w-full data-[panel-group-direction=vertical]:grid\",\n      className\n    )}\n    {...props}\n  />\n)\n\nconst ResizablePanel = ResizablePrimitive.Panel\n\nconst ResizableHandle = ({\n  withHandle,\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.PanelResizeHandle> & {\n  withHandle?: boolean\n}) => (\n  <ResizablePrimitive.PanelResizeHandle\n    className={cn(\n      \"relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90\",\n      className\n    )}\n    {...props}\n  >\n    {withHandle && (\n      <div className=\"z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border\">\n        <GripVertical className=\"h-2.5 w-2.5\" />\n      </div>\n    )}\n  </ResizablePrimitive.PanelResizeHandle>\n)\n\nexport { ResizablePanelGroup, ResizablePanel, ResizableHandle }\n","\"use client\"\r\nimport { useWorkspace } from \"@/context\";\r\nimport { ElementProps } from \".\";\r\n\r\nfunction ElementProject({ element, ...props }: ElementProps) {\r\n  const { projectDispatch } = useWorkspace()\r\n\r\n  function onClick() {\r\n    projectDispatch({\r\n      type: \"LOAD_DATA\",\r\n      payload: { element }\r\n    })\r\n  }\r\n\r\n  return (\r\n    <div\r\n      onClick={onClick}\r\n      className=\"!select-none relative group/board w-full h-44 flex flex-col justify-between border rounded-sm text-sm cursor-pointer ring ring-transparent hover:ring-blue-300/30 active:shadow-none overflow-hidden\"\r\n    >\r\n      <div className=\"absolute  h-full w-full bg-blue-300/10 opacity-30 \" style={{ background: element.style.background, backgroundSize: \"200%\" }}>\r\n      </div>\r\n      <div className=\" py-1 w-full bg-white/20 backdrop-blur-md\"></div>\r\n      <div className=\"w-full h-10 bg-white/50 backdrop-blur-md flex items-center transition-all\">\r\n        <p className=\"px-2 w-full line-clamp-2 leading-3 font-semibold select-none text-[11px] m-auto text-neutral-800/70 transition-all\">\r\n          {element.title}\r\n        </p>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nElementProject.displayName = \"ElementProject\"\r\nexport default ElementProject","import React from \"react\"\r\nimport { ElementProps } from \".\"\r\nimport Avatar from \"../ui/avatar\"\r\nimport { useWorkspace } from \"@/context\"\r\nimport { ColorResult } from \"react-color\"\r\n\r\nconst AvatarElement = ({ element, ...props }: ElementProps) => {\r\n  const { updateElement } = useWorkspace()\r\n\r\n  function changeColor(newColor: ColorResult) {\r\n    updateElement(element, {\r\n      ...element,\r\n      style: {\r\n        ...element.style,\r\n        background: newColor.hex\r\n      }\r\n    })\r\n  }\r\n  return (\r\n    <Avatar\r\n      {...props}\r\n      callback={changeColor}\r\n      editable={props.editable ? props.editable : true}\r\n      style={{\r\n        background: element.style?.background || \"rgba(252,176,69,1)\",\r\n      }}\r\n    />\r\n  )\r\n}\r\n\r\nAvatarElement.displayName = \"AvatarElement\"\r\nexport default AvatarElement","import { IElement, ElementType } from \"@/context\";\r\nimport { Task } from \"./task\";\r\nimport { AddElement } from \"./utils/add\";\r\nimport { TextElement } from \"./text\";\r\nimport { GroupElement } from \"./group\";\r\nimport { DragAndDrop } from \"./utils/dragAndDrop\";\r\nimport ElementActions from \"./utils/actions\";\r\nimport { Feed } from \"./feed\";\r\nimport Board from \"./board\";\r\nimport ElementProject from \"./project\";\r\nimport AvatarElement from \"./avatar\";\r\n\r\nexport type ElementProps = {\r\n  element: IElement,\r\n  dense?: boolean,\r\n  parentName?: string,\r\n  type: ElementType,\r\n  style?: React.CSSProperties,\r\n  className?: string\r\n  raw?: boolean\r\n  root?: boolean\r\n  editable?: boolean\r\n}\r\n\r\nfunction Element(props: ElementProps) {\r\n  switch (props.type) {\r\n    case \"avatar\":\r\n      if (props.raw) return <AvatarElement {...props} />\r\n      return <DragAndDrop element={props.element} justDrag >\r\n        <ElementActions {...props} opts={{ minimaze: false, select: false }}>\r\n          <AvatarElement {...props} />\r\n        </ElementActions>\r\n      </DragAndDrop>\r\n    case \"board\":\r\n      return <Board {...props} />\r\n    case \"task\":\r\n      if (props.raw) return <Task  {...props} />\r\n      return <DragAndDrop element={props.element} >\r\n        <ElementActions {...props}>\r\n          <Task  {...props} />\r\n        </ElementActions>\r\n      </DragAndDrop>\r\n    case \"add\":\r\n      return <AddElement {...props} />\r\n    case \"text\":\r\n      if (props.raw) return <TextElement {...props} />\r\n      return <DragAndDrop element={props.element} justDrag >\r\n        <ElementActions opts={{ minimaze: false, select: false }} {...props} >\r\n          <TextElement {...props} />\r\n        </ElementActions>\r\n      </DragAndDrop>\r\n    case \"group\":\r\n      if (props.raw) return <GroupElement {...props} />\r\n      return <DragAndDrop element={props.element} >\r\n        <ElementActions {...props}>\r\n          <GroupElement {...props} />\r\n        </ElementActions>\r\n      </DragAndDrop>\r\n    case \"feed\":\r\n      if (props.raw) return <Feed  {...props} />\r\n      return <DragAndDrop element={props.element} >\r\n        <ElementActions  {...props}>\r\n          <Feed  {...props} />\r\n        </ElementActions>\r\n      </DragAndDrop>\r\n    case \"project\":\r\n      return <ElementActions  {...props} opts={{ minimaze: false, select: false }}>\r\n        <ElementProject {...props} />\r\n      </ElementActions>\r\n    default:\r\n      return null;\r\n  }\r\n}\r\n\r\nElement.displayName = \"RecursiveElement\"\r\nexport default Element","\"use client\"\r\nimport React from \"react\"\r\nimport { IElement, useWorkspace } from \"@/context\"\r\nimport { AvatarEditor } from \"@/components/ui/avatar\"\r\nimport { ColorResult } from \"react-color\"\r\n\r\nfunction ConfigElement({ element }: { element: IElement }) {\r\n  const { updateElement } = useWorkspace()\r\n  function changeColor(color: ColorResult) {\r\n    updateElement(element, {\r\n      ...element,\r\n      style: {\r\n        background: color.hex\r\n      }\r\n    })\r\n  }\r\n  return (\r\n    <section className=\"max-w-screen-lg mx-auto w-full h-full py-8\">\r\n      <div className=\"w-full flex justify-center flex-col max-w-[640px] mx-auto gap-8\">\r\n        <AvatarEditor\r\n          callback={changeColor}\r\n          style={{\r\n            background: element.style.background\r\n          }}\r\n        />\r\n      </div>\r\n    </section>\r\n  )\r\n}\r\n\r\n\r\nConfigElement.displayName = \"ConfigElement\"\r\nexport default ConfigElement","\"use client \"\r\nimport { useWorkspace } from \"@/context\"\r\nimport React from \"react\"\r\nimport Appbar from \"./appbar\"\r\nimport CreateProject from \"./elements/utils/createProject\"\r\nimport Element from \"./elements\"\r\nimport clsx from \"clsx\"\r\nimport ConfigElement from \"./elements/utils/config\"\r\n\r\nfunction Workspace() {\r\n  const { globalState, projectState } = useWorkspace()\r\n  return (\r\n    <section className=\"h-[100vh] flex flex-col justify-between\">\r\n      <Appbar />\r\n      {\r\n        !globalState.configMode &&\r\n        globalState.workspace.content.length > 0 &&\r\n        <div className={clsx(\"h-full max-w-screen-xl mx-auto w-full px-2 flex flex-col\", projectState.project && \"hidden\")} >\r\n          <span className=\"h-1/2 w-full\">\r\n            {\r\n                globalState.workspace.content.length > 0 &&\r\n                <section className=\"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 py-6 gap-1 w-full\">\r\n                <span className=\"min-h-44\">\r\n                  <CreateProject dense />\r\n                </span>\r\n                    {globalState.workspace.content.sort((a, b) => (new Date(b.updatedAt).getTime() - new Date(a.updatedAt).getTime())).map(project => project.type === \"project\" && (\r\n                      <Element key={project.id + \"root\"} element={project} type={\"project\"} />\r\n                ))}\r\n              </section>\r\n            }\r\n            </span>\r\n        </div>\r\n      }\r\n\r\n      {\r\n        globalState.workspace.content.length == 0 &&\r\n        !globalState.configMode\r\n        && <span className=\"h-full max-w-screen-xl mx-auto w-full px-2 flex\">\r\n          <CreateProject />\r\n        </span>\r\n      }\r\n\r\n      {\r\n        projectState.project\r\n        && !projectState.configMode\r\n        && <Element element={projectState.project} type={\"board\"} />\r\n      }\r\n\r\n      {\r\n        projectState.project\r\n        && projectState.configMode\r\n        && <ConfigElement element={projectState.project} />\r\n      }\r\n      {\r\n        !projectState.project\r\n        && globalState.configMode\r\n        && <ConfigElement element={globalState.workspace} />\r\n      }\r\n\r\n      <Footer />\r\n    </section>\r\n  )\r\n}\r\n\r\nfunction Footer() {\r\n\r\n  return (\r\n    <nav className=\"select-none flex border-t text-neutral-200  items-center justify-end px-2 max-h-6 min-h-6 w-full \">\r\n    </nav>\r\n  )\r\n}\r\n\r\nWorkspace.displayName = \"Workspace\"\r\nexport default Workspace","\"use client\"\n\nimport * as React from \"react\"\nimport * as ToastPrimitives from \"@radix-ui/react-toast\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ToastProvider = ToastPrimitives.Provider\n\nconst ToastViewport = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Viewport>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Viewport>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Viewport\n    ref={ref}\n    className={cn(\n      \"select-none fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-2 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]\",\n      className\n    )}\n    {...props}\n  />\n))\nToastViewport.displayName = ToastPrimitives.Viewport.displayName\n\nconst toastVariants = cva(\n  \"group select-none pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border px-6 py-4 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full\",\n  {\n    variants: {\n      variant: {\n        default: \"border bg-background text-foreground\",\n        destructive:\n          \"destructive group border-destructive bg-destructive text-destructive-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Toast = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Root> &\n  VariantProps<typeof toastVariants>\n>(({ className, variant, ...props }, ref) => {\n  return (\n    <ToastPrimitives.Root\n      ref={ref}\n      className={cn(toastVariants({ variant }), className, \"select-none\")}\n      {...props}\n    />\n  )\n})\nToast.displayName = ToastPrimitives.Root.displayName\n\nconst ToastAction = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Action>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Action>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Action\n    ref={ref}\n    className={cn(\n      \"inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive\",\n      className\n    )}\n    {...props}\n  />\n))\nToastAction.displayName = ToastPrimitives.Action.displayName\n\nconst ToastClose = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Close>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Close>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Close\n    ref={ref}\n    className={cn(\n      \"absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600\",\n      className\n    )}\n    toast-close=\"\"\n    {...props}\n  >\n    <X className=\"h-4 w-4\" />\n  </ToastPrimitives.Close>\n))\nToastClose.displayName = ToastPrimitives.Close.displayName\n\nconst ToastTitle = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Title>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Title>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Title\n    ref={ref}\n    className={cn(\"select-none text-sm\", className)}\n    {...props}\n  />\n))\nToastTitle.displayName = ToastPrimitives.Title.displayName\n\nconst ToastDescription = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Description>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Description>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Description\n    ref={ref}\n    className={cn(\"select-none text-sm opacity-90\", className)}\n    {...props}\n  />\n))\nToastDescription.displayName = ToastPrimitives.Description.displayName\n\ntype ToastProps = React.ComponentPropsWithoutRef<typeof Toast>\n\ntype ToastActionElement = React.ReactElement<typeof ToastAction>\n\nexport {\n  type ToastProps,\n  type ToastActionElement,\n  ToastProvider,\n  ToastViewport,\n  Toast,\n  ToastTitle,\n  ToastDescription,\n  ToastClose,\n  ToastAction,\n}\n","\"use client\"\n\nimport {\n  Toast,\n  ToastClose,\n  ToastDescription,\n  ToastProvider,\n  ToastTitle,\n  ToastViewport,\n} from \"@/components/ui/toast\"\nimport { useToast } from \"@/components/ui/use-toast\"\n\nexport function Toaster() {\n  const { toasts } = useToast()\n\n  return (\n    <ToastProvider>\n      {toasts.map(function ({ id, title, description, action, ...props }) {\n        return (\n          <Toast key={id} {...props}>\n            <div className=\"grid gap-1 !select-none\">\n              {title && <ToastTitle>{title}</ToastTitle>}\n              {description && (\n                <ToastDescription>{description}</ToastDescription>\n              )}\n            </div>\n            {action}\n            <ToastClose />\n          </Toast>\n        )\n      })}\n      <ToastViewport />\n    </ToastProvider>\n  )\n}\n","\"use client\"\r\nimport { WorkspaceProvider } from \"@/context\";\r\nimport Workspace from \"./flowboard.workspace\";\r\nimport { Toaster } from \"./ui/toaster\";\r\nimport { CountdownProvider } from \"@/context/countdown\";\r\n\r\nfunction FlowBoard() {\r\n  return (\r\n    <WorkspaceProvider >\r\n      <CountdownProvider>\r\n        <Workspace />\r\n        <Toaster />\r\n      </CountdownProvider>\r\n    </WorkspaceProvider>\r\n  );\r\n}\r\n\r\nFlowBoard.displayName = \"FlowBoard\"\r\nexport default FlowBoard\r\nexport {\r\n  FlowBoard\r\n}"],"mappings":"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","names":["element","crypto","r","React","deleteElement","updateElement","addElement","import_react","React","import_jsx_runtime","import_jsx_runtime","React","import_jsx_runtime","import_jsx_runtime","updateElement","import_jsx_runtime","import_lucide_react","import_react","React","toast","props","import_jsx_runtime","React","toast","import_lucide_react","import_react","import_react","import_jsx_runtime","React","updateElement","_a","_b","import_jsx_runtime","React","_a","_b","_c","_d","_e","_f","import_class_variance_authority","import_jsx_runtime","import_react","import_jsx_runtime","React","import_react","import_jsx_runtime","updateElement","React","newTime","import_jsx_runtime","updateElement","React","import_jsx_runtime","import_react","React","import_lucide_react","import_jsx_runtime","import_jsx_runtime","React","_a","color","import_lucide_react","import_jsx_runtime","updateElement","import_lucide_react","import_lucide_react","import_react","import_jsx_runtime","React","import_jsx_runtime","import_lucide_react","import_jsx_runtime","import_jsx_runtime","import_lucide_react","import_lucide_react","import_jsx_runtime","_a","_b","addElement","Button","import_react","import_jsx_runtime","React","import_jsx_runtime","_a","_b","import_jsx_runtime","import_react","import_jsx_runtime","React","import_react","import_jsx_runtime","React","defaultOpts","deleteElement","_a","_b","_c","React","import_jsx_runtime","import_jsx_runtime","_a","import_react","import_lucide_react","import_jsx_runtime","import_jsx_runtime","React","import_jsx_runtime","import_jsx_runtime","_a","updateElement","avatar_default","import_jsx_runtime","avatar_default","import_jsx_runtime","updateElement","import_jsx_runtime","React","import_class_variance_authority","import_lucide_react","import_jsx_runtime","import_jsx_runtime","import_jsx_runtime"]}